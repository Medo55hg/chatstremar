<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ğŸ¯ Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø¨Ø¹Ø«Ø±Ø© - Ø§Ù„Ù…Ø­Ø³Ù†Ø©</title>
  <!-- Ø®Ø· Cairo -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="tmi.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/tmi.js@1.8.5/dist/tmi.min.js"></script>
  <style>
    :root{
      --red:#ff3333; --bg:#111; --panel:#222; --line:#444; --ok:#00ffcc; --warn:#ffcc00; --blue:#0099ff;
      --primary:#ff3333; --accent:#9146ff; --bg-900:#0e0f1a; --bg-deep:#0a0b14;

      /* Ø®Ù„ÙÙŠØ© Ø³ØªØ§ÙŠÙ„2026 */
      --bg1:#1a1a3d;         /* Ø¯Ø§ÙƒÙ† 1 */
      --bg2:#004466;         /* Ø¯Ø§ÙƒÙ† 2 */
      --text:#fff;           /* Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ */
    }

    /* ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­ Ù„Ø³ØªØ§ÙŠÙ„2026 */
    [data-theme="light"]{
      --bg1:#f2f6ff;         /* ÙØ§ØªØ­ 1 */
      --bg2:#dfe9ff;         /* ÙØ§ØªØ­ 2 */
      --text:#111;           /* Ù„ÙˆÙ† Ø§Ù„Ù†Øµ ÙÙŠ Ø§Ù„ÙØ§ØªØ­ */
    }

    html, body{ height:100%; }
    body{
      margin:0;color:var(--text);font-family:'Cairo',sans-serif;text-align:center;padding:20px;

      /* âœ… Ø®Ù„ÙÙŠØ© Ø³ØªØ§ÙŠÙ„2026 (Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø®Ù„ÙÙŠØ§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©) */
      background: linear-gradient(-45deg, var(--bg1), var(--bg2), var(--bg1), var(--bg2));
      background-size: 400% 400%;
      animation: gradientBG 20s ease infinite;

      overflow-x:hidden;
    }

    /* Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„Ø®Ù„ÙÙŠØ© */
    @keyframes gradientBG {
      0%   { background-position: 0% 50% }
      50%  { background-position: 100% 50% }
      100% { background-position: 0% 50% }
    }

    /* Ø­Ø§ÙˆÙŠØ© Ø¹Ø§Ù…Ø© Ø£Ø¹Ø±Ø¶ */
    .container{ width:96vw; max-width:1800px; margin:0 auto; }

    /* Ø®Ù„ÙÙŠØ§Øª Ø²Ø®Ø±ÙÙŠØ© (ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ â€” Ø¥Ù† Ø­Ø¨ÙŠØª Ù†Ø´ÙŠÙ„Ù‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø®Ø¨Ø±Ù†ÙŠ) */
    .grid-bg{ position:fixed; inset:0; pointer-events:none; z-index:0;
      background-image:
        linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
      background-size:40px 40px, 40px 40px;
    }
    .blob,.blob2{ position:fixed; filter:blur(40px); opacity:.4; z-index:0; pointer-events:none; border-radius:50%; }
    .blob{ width:420px;height:420px; top:-120px; left:-120px; transform:rotate(15deg);
      background:radial-gradient(circle at 30% 30%, var(--accent), transparent 60%);}
    .blob2{ width:720px;height:720px; right:-220px; bottom:-160px;
      background:radial-gradient(circle at 70% 50%, var(--primary), transparent 60%);}
    .bg-sheen{ position:fixed; inset:0; z-index:0; pointer-events:none;
      background:linear-gradient(180deg, rgba(255,255,255,0.00) 0%, rgba(255,255,255,0.02) 35%, rgba(255,255,255,0.00) 100%); }
    @media (prefers-reduced-motion:reduce){ .blob,.blob2,.grid-bg,.bg-sheen{display:none;} }

    /* Ø²Ø± Ø§Ù„Ø´Ø±Ø­ Ø£Ø¹Ù„Ù‰ ÙŠØ³Ø§Ø± */
    .help-btn{
      position:fixed; top:20px; left:20px; z-index:5;
      background:#1b1b1b; border:1px solid #2f2f2f; color:#e6e6e6;
      padding:10px 14px; border-radius:12px; cursor:pointer; font-size:16px;
      box-shadow:0 6px 18px rgba(0,0,0,.25);
    }
    .help-btn:hover{ filter:brightness(1.08); }

    .page-title{
      margin:8px auto 14px; font-size:28px; color:var(--red);
      letter-spacing:.5px; position:relative; z-index:2;
    }

    /* Ù„ÙˆØ­Ø© Ø§Ù„Ø§ØªØµØ§Ù„ */
    .chat-connect-wrap{ width:100%; margin:0 auto 10px; position:relative; z-index:2; }
    .connect-strip{
      background: linear-gradient(180deg,#1b1b1b,#161616);
      border:1px solid var(--line); color:#ddd; height:56px; border-radius:18px;
      display:flex; align-items:center; justify-content:center; font-size:20px; letter-spacing:.5px; position:relative;
      box-shadow:0 6px 20px rgba(0,0,0,.25);
    }
    .connect-toggle{
      position:absolute; left:16px; top:50%; transform:translateY(-50%);
      width:42px; height:42px; border-radius:12px; border:1px solid #333;
      background:#0f0f0f; color:#fff; cursor:pointer; display:flex; align-items:center; justify-content:center;
      transition:transform .25s ease, background .2s ease;
    }
    .connect-strip.open .connect-toggle{ transform:translateY(-50%) rotate(180deg); }
    .connect-dropdown{ overflow:hidden; max-height:0; transition:max-height .45s ease, opacity .35s ease; opacity:.0; }
    .connect-strip.open + .connect-dropdown{ max-height:520px; opacity:1; }

    .connect-card{
      background: rgba(20,20,20,.92); border:1px solid var(--line); border-radius:22px;
      padding:18px; margin-top:14px; box-shadow:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03);
    }
    .connect-grid{ display:grid; gap:18px; grid-template-columns: 1fr 2fr; }
    @media (max-width:900px){ .connect-grid{ grid-template-columns:1fr; } }
    .connect-help{ background:#151515; border:1px solid #313131; border-radius:18px; padding:16px; text-align:right; font-size:16px; line-height:1.9; }
    .connect-help b{ color:#eee; }
    .connect-form{ background:#151515; border:1px solid #313131; border-radius:18px; padding:16px; }
    .connect-rows{ display:grid; gap:14px; grid-template-columns: 1fr 1fr; }
    @media (max-width:700px){ .connect-rows{ grid-template-columns:1fr; } }
    .form-row{ display:flex; flex-direction:column; gap:8px; }
    .form-row label{ font-size:14px; color:#bdbdbd; }
    .connect-input, .connect-select{ background:#101010; color:#fff; border:1px solid #2f2f2f; border-radius:12px; padding:12px 14px; font-size:18px; outline:none; }
    .connect-input:focus, .connect-select:focus{ border-color: var(--red); }
    .connect-actions{ display:flex; align-items:center; gap:12px; flex-wrap:wrap; margin-top:6px; }
    .connect-btn{ background:var(--red); color:#fff; border:none; border-radius:12px; padding:12px 18px; font-size:18px; cursor:pointer;
      box-shadow: 0 6px 18px rgba(255,51,51,.25); }

    .status-chip{
      display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:14px; font-size:15px;
      border:1px solid #2f2f2f; background:#151515; color:#bdbdbd;
      user-select:none;
    }
    .status-ok{ background:#151e15; border-color:#254a25; color:#9af59a; }
    .status-err{ background:#2a1717; border-color:#4a2525; color:#ffb3b3; }
    .status-gray{ background:#151515; border-color:#2f2f2f; color:#bdbdbd; }

    /* Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø³ØªØ±ÙŠÙ…Ø± (Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª + Ø£Ø²Ø±Ø§Ø± Ù…ØªÙ†Ø§Ø³Ù‚Ø©) */
    .streamer-wrap{ width:100%; margin:10px auto 0; position:relative; z-index:2; }
    .streamer-strip{
      background: linear-gradient(180deg,#1b1b1b,#161616);
      border:1px solid var(--line); color:#ddd; height:56px; border-radius:18px;
      display:flex; align-items:center; justify-content:center; font-size:20px; letter-spacing:.5px; position:relative;
      box-shadow:0 6px 20px rgba(0,0,0,.25);
    }
    .streamer-toggle{
      position:absolute; left:16px; top:50%; transform:translateY(-50%);
      width:42px; height:42px; border-radius:12px; border:1px solid #333; background:#0f0f0f; color:#fff; cursor:pointer;
      display:flex; align-items:center; justify-content:center; transition:transform .25s ease, background .2s ease;
    }
    .streamer-strip.open .streamer-toggle{ transform:translateY(-50%) rotate(180deg); }
    .streamer-dropdown{ overflow:hidden; max-height:0; transition:max-height .45s ease, opacity .35s ease; opacity:.0; }
    .streamer-strip.open + .streamer-dropdown{ max-height:900px; opacity:1; }

    .streamer-card{
      background: rgba(20,20,20,.92); border:1px solid var(--line); border-radius:22px;
      padding:18px; margin-top:14px; box-shadow:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03);
    }
    .streamer-grid{ display:grid; gap:18px; grid-template-columns: 1.1fr 2fr; align-items:start; }
    @media (max-width:1100px){ .streamer-grid{ grid-template-columns:1fr; } }
    .streamer-settings{ background:#151515; border:1px solid #313131; border-radius:18px; padding:16px; text-align:right; }
    .streamer-settings h3{ margin:0 0 8px 0; font-size:18px; color:#eee; }
    .streamer-rows{ display:grid; gap:12px; grid-template-columns: 1fr 1fr; }
    @media (max-width:700px){ .streamer-rows{ grid-template-columns:1fr; } }
    .switch-inline{ display:flex; align-items:center; gap:8px; background:#101010; border:1px solid #2f2f2f; padding:10px 12px; border-radius:12px; }
    .switch-inline input{ width:20px; height:20px; }

    .streamer-actions{ background:#151515; border:1px solid #313131; border-radius:18px; padding:16px; }
    .streamer-actions h3{ margin:0 0 10px 0; font-size:18px; color:#eee; text-align:right; }
    /* Ù†ÙØ³ ØªØ±ØªÙŠØ¨ Ø£Ø²Ø±Ø§Ø± Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù„Ø¹Ø¨Ø© */
    .controls-bar{
      display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;
      background:#101010; border:1px solid #2a2a2a; border-radius:14px; padding:12px;
    }
    .controls-right, .controls-left{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    .sbtn{
      background:#242424; color:#eee; border:1px solid #333; border-radius:14px; padding:10px 14px; font-size:16px; cursor:pointer;
      display:flex; align-items:center; justify-content:center; gap:8px;
    }
    .sbtn:hover{ filter:brightness(1.06); }
    .sbtn.primary{ background:var(--red); border-color:#6b1616; color:#fff; }
    .snote{ font-size:12px; color:#bdbdbd; margin-top:6px; text-align:right; }

    /* Ø§Ù„Ù…Ø³Ø±Ø­: Ø£Ø¹Ù…Ø¯Ø© Ù…ØªÙ†Ø§Ø³Ù‚Ø© ÙˆØ«Ø§Ø¨ØªØ© */
    .stage{
      width:100%; margin:20px auto 0;
      display:grid;
      grid-template-columns: clamp(240px, 18vw, 360px) 1fr clamp(240px, 18vw, 360px);
      gap:24px; align-items:start;
    }
    @media (max-width:1200px){
      .stage{ grid-template-columns: clamp(220px, 22vw, 300px) 1fr clamp(220px, 22vw, 300px); gap:18px; }
    }
    @media (max-width:980px){
      .stage{ grid-template-columns: 1fr; }
    }

    .team{
      box-sizing:border-box;
      padding:15px;border-radius:15px;text-align:center;background:#222;border:1px solid #444;
      min-height:200px;
    }
    .team-blue{ background:rgba(0,0,255,.1); border:2px solid var(--blue); }
    .team-red{ background:rgba(255,0,0,.1); border:2px solid var(--red); }
    .players-list{
      background:#333;padding:10px;border-radius:8px;min-height:80px;font-size:18px;text-align:right;
      max-height:60vh; overflow:auto;
    }

    /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø§Ù„Ù…Ù†ØªØµÙ */
    .game-area{
      box-sizing:border-box;
      font-size:28px;margin:0;background:#222;padding:16px 16px 22px;border-radius:15px;
      width:100%; border:2px solid var(--red); position:relative; z-index:1;
    }
    /* Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù„Ø¹Ø¨Ø© */
    .game-actions-bar{
      display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px;
      background:#1a1a1a; border:1px solid #333; border-radius:12px; padding:10px;
    }
    .game-actions-right, .game-actions-left{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    .gbtn{ background:#242424; color:#eee; border:1px solid #333; border-radius:10px; padding:8px 12px; font-size:16px; cursor:pointer; }
    .gbtn.primary{ background:var(--red); border-color:#6b1616; color:#fff; }
    .gbtn:hover{ filter:brightness(1.06); }

    .current-player{ font-size:24px;margin:6px 0 12px;color:var(--ok) }
    .scrambled-word{ font-size:84px; font-weight:700; margin:14px 0; letter-spacing:6px; word-spacing:18px; line-height:1.15;
      display:flex; align-items:center; justify-content:center; min-height:200px; word-break:break-word; }
    .timer{ font-size:26px;color:var(--warn);margin:10px 0;font-weight:bold }
    .progress{ height:10px;width:100%;max-width:640px;background:#333;margin:8px auto;border-radius:10px;overflow:hidden;border:1px solid #444 }
    .bar{ height:100%;width:0%;background:linear-gradient(90deg,var(--red),#ff7a7a) }
    .guess-result{ font-size:22px;margin-top:8px;min-height:28px }
    .scoreboard{ margin-top:18px;font-size:22px }

    .btn-secondary{ background:#444 } .btn-yellow{ background:#b38f00 }

    .answer-box{
      position:fixed;bottom:20px;left:20px;text-align:center;font-size:20px;color:#fff;z-index:100;
      background:#222;border:1px solid #444;border-radius:10px;padding:10px 12px
    }
    .commands-highlight{ color:var(--red);font-weight:bold;margin-top:10px;display:block }
    .hint{ font-size:18px; color:#9fe8d8; margin-top:6px; }

    /* Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù†Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
    @keyframes correctAnswer {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    @keyframes newTurn {
      0% { opacity: 0.5; transform: translateY(-10px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.02); }
      100% { transform: scale(1); }
    }

    .correct-animation {
      animation: correctAnswer 0.5s ease;
    }

    .new-turn-animation {
      animation: newTurn 0.3s ease;
    }

    .player-current-turn {
      background: rgba(255, 51, 51, 0.2) !important;
      border-left: 4px solid var(--red) !important;
      border-right: 4px solid var(--red) !important;
      font-weight: bold !important;
      transform: scale(1.02);
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(255, 51, 51, 0.2);
    }

    .team-blue .player-entry {
      border-right: 3px solid var(--blue);
      margin: 2px 0;
      padding: 6px 10px;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .team-red .player-entry {
      border-right: 3px solid var(--red);
      margin: 2px 0;
      padding: 6px 10px;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø±ÙŠØ³Ø¨ÙˆÙ†Ø³Ù */
    @media (max-width: 768px) {
      .scrambled-word {
        font-size: 48px;
        letter-spacing: 3px;
        word-spacing: 10px;
        min-height: 150px;
      }
      
      .game-actions-bar {
        flex-direction: column;
        gap: 8px;
      }
      
      .game-actions-right, .game-actions-left {
        justify-content: center;
        width: 100%;
      }
    }

    /* Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
    .modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; z-index:50; }
    .modal{
      position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
      width:min(920px, 92vw); max-height:80vh; overflow:auto;
      background:#171717; border:1px solid #333; border-radius:20px; padding:18px 18px 22px;
      box-shadow:0 20px 60px rgba(0,0,0,.45); display:none; z-index:51; text-align:right;
    }
    .modal header{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      position:sticky; top:0; background:#171717; padding-bottom:8px; margin-bottom:12px;
      border-bottom:1px solid #2a2a2a;
    }
    .modal h2{ margin:0; font-size:22px; color:#fff; }
    .modal .close{ background:#222; border:1px solid #333; color:#ddd; border-radius:10px; padding:8px 12px; cursor:pointer; }
    .modal .content{ font-size:16px; line-height:1.9; color:#eaeaea; }
    .modal .kbd{ display:inline-block; padding:2px 8px; border:1px solid #555; border-radius:6px; background:#111; font-family:monospace; font-size:14px; }
    .modal ul{ padding-inline-start:18px; margin:6px 0 0; text-align:right; }
    .modal ul li{ margin:4px 0; }

    /* Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
    .stats-card {
      background: rgba(20,20,20,0.95);
      border: 1px solid var(--line);
      border-radius: 22px;
      padding: 20px;
      margin-top: 24px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,.03);
      display: none;
      text-align: right;
      position: relative;
      z-index: 2;
    }

    .stats-card h3 {
      margin: 0 0 15px 0;
      font-size: 22px;
      color: var(--ok);
      text-align: center;
      border-bottom: 2px solid var(--line);
      padding-bottom: 10px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 15px;
      max-height: 400px;
      overflow-y: auto;
      padding: 10px;
    }

    .stat-item {
      background: linear-gradient(145deg, #1a1a1a, #151515);
      border: 1px solid #333;
      border-radius: 16px;
      padding: 15px;
      transition: all 0.3s ease;
    }

    .stat-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
      border-color: var(--ok);
    }

    .stat-item strong {
      color: var(--ok);
      font-size: 18px;
      display: block;
      margin-bottom: 10px;
      text-align: center;
    }

    .stat-item div {
      display: flex;
      justify-content: space-between;
      margin: 6px 0;
      font-size: 15px;
      color: #ccc;
    }

    .accuracy-bar {
      height: 8px;
      background: #333;
      border-radius: 4px;
      margin-top: 8px;
      overflow: hidden;
    }

    .accuracy-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--ok), #00cc99);
      border-radius: 4px;
      transition: width 1s ease;
    }

    /* Ø²Ø± Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
    .stats-btn {
      position: fixed;
      bottom: 80px;
      right: 20px;
      background: var(--blue);
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      cursor: pointer;
      z-index: 100;
      box-shadow: 0 6px 20px rgba(0, 153, 255, 0.3);
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .stats-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 25px rgba(0, 153, 255, 0.4);
    }

    /* Ø²Ø± Ø§Ù„Ø³ÙƒÙŠØ¨ */
    .skip-btn {
      background: linear-gradient(145deg, #b38f00, #ffcc00);
      color: #000;
      font-weight: bold;
    }

    /* Ø´Ø±ÙŠØ· Ø§Ù„Ø´Ø§Øª */
    .chat-log {
      position: fixed;
      top: 80px;
      right: 20px;
      width: 300px;
      max-height: 300px;
      overflow-y: auto;
      background: rgba(20,20,20,0.95);
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 10px;
      font-size: 14px;
      z-index: 90;
      display: none;
    }

    .chat-message {
      margin: 5px 0;
      padding: 8px;
      background: rgba(255,255,255,0.05);
      border-radius: 8px;
      border-right: 3px solid var(--ok);
      animation: newTurn 0.3s ease;
    }
  </style>
</head>
<body>

  <!-- Ø®Ù„ÙÙŠØ§Øª -->
  <div class="grid-bg"></div><div class="blob"></div><div class="blob2"></div><div class="bg-sheen"></div>

  <button id="openHelp" class="help-btn">â” Ø´Ø±Ø­</button>

  <div class="container">
    <div class="page-title">ğŸ¯ Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø¨Ø¹Ø«Ø±Ø© - Ø§Ù„Ù…Ø­Ø³Ù†Ø©</div>

    <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø§ØªØµØ§Ù„ -->
    <div class="chat-connect-wrap">
      <div id="connectStrip" class="connect-strip">
        <button id="connectToggle" class="connect-toggle">â–¼</button>
        Ù„ÙˆØ­Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø´Ø§Øª
      </div>

      <div class="connect-dropdown">
        <div class="connect-card">
          <div class="connect-grid">
            <div class="connect-help">
              <b>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§ØªØµØ§Ù„ :</b><br>
              Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ù‚Ù†Ø§ØªÙƒØŒ Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØµØ©ØŒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) ÙØ¹Ù‘Ù„ ØªØ°ÙƒÙ‘Ø±Ù†ÙŠØŒ Ø«Ù… Ø§Ø¶ØºØ· Ø§ØªØµØ§Ù„.
            </div>

            <div class="connect-form">
              <div class="connect-rows">
                <div class="form-row">
                  <label for="channelInput">Ø§Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø©:</label>
                  <input type="text" id="channelInput" class="connect-input" placeholder="ğŸ® Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø©">
                </div>
                <div class="form-row">
                  <label for="platformSelect">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØµØ©:</label>
                  <select id="platformSelect" class="connect-select">
                    <option value="twitch">Twitch</option>
                    <option value="kick">Kick</option>
                  </select>
                </div>
              </div>

              <div class="connect-actions">
                <button onclick="connectChat()" class="connect-btn">Ø§ØªØµØ§Ù„</button>
                <div id="chatStatus" class="status-chip status-gray">
                  <span>Ù…ØªØµÙ„ Ø¨Ù€:</span><b id="statusPlatform">â€”</b>
                </div>
                <label style="display:flex;align-items:center;gap:8px;">
                  <input type="checkbox" id="rememberMe"> ØªØ°ÙƒÙ‘Ø±Ù†ÙŠ
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø³ØªØ±ÙŠÙ…Ø± -->
    <div class="streamer-wrap">
      <div id="streamerStrip" class="streamer-strip">
        <button id="streamerToggle" class="streamer-toggle">â–¼</button>
        Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ‘Ù… Ø§Ù„Ø³ØªØ±ÙŠÙ…Ø±
      </div>

      <div class="streamer-dropdown">
        <div class="streamer-card">
          <div class="streamer-grid">
            <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙˆÙ„Ø© -->
            <div class="streamer-settings">
              <h3>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬ÙˆÙ„Ø©</h3>
              <div class="streamer-rows">
                <div class="form-row">
                  <label for="roundTime">â±ï¸ ÙˆÙ‚Øª Ø§Ù„Ø¬ÙˆÙ„Ø© (Ø«)</label>
                  <input type="number" id="roundTime" class="connect-input" min="10" max="180" step="5" value="30">
                </div>
                <div class="form-row">
                  <label for="targetScore">ğŸ† Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</label>
                  <input type="number" id="targetScore" class="connect-input" min="5" max="50" step="1" value="15">
                </div>
                <label class="switch-inline" for="autoTimer">
                  <input type="checkbox" id="autoTimer" checked>
                  Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§
                </label>
                <label class="switch-inline" for="autoNext">
                  <input type="checkbox" id="autoNext" checked>
                  Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
                </label>
              </div>
            </div>

            <!-- Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø³Ø±ÙŠØ¹ -->
            <div class="streamer-actions">
              <h3>ğŸ›ï¸ Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø³Ø±ÙŠØ¹</h3>
              <div class="controls-bar">
                <div class="controls-right">
                  <button class="sbtn primary" onclick="startGame()">ğŸ® Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
                  <button class="sbtn skip-btn" onclick="skipTurn()">â­ï¸ ØªØ®Ø·ÙŠ (âˆ’2)</button>
                </div>
                <div class="controls-left">
                  <button class="sbtn" onclick="startTimer()">â³ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø¤Ù‚Øª</button>
                  <button class="sbtn" onclick="nextTurn()">â­ï¸ Ø§Ù„ØªØ§Ù„ÙŠ</button>
                  <button class="sbtn" onclick="useHint()">ğŸ’¡ ØªÙ„Ù…ÙŠØ­ (âˆ’5Ø«)</button>
                  <button class="sbtn" onclick="resetScores()">ğŸ”„ ØªØµÙÙŠØ± Ø§Ù„Ù†Ù‚Ø§Ø·</button>
                </div>
              </div>
              <div class="snote">Ù†ÙØ³ ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙŠØ¸Ù‡Ø± Ø£Ø¹Ù„Ù‰ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„ÙˆØµÙˆÙ„ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¨Ø«.</div>
            </div>

          </div><!-- /streamer-grid -->
        </div><!-- /streamer-card -->
      </div><!-- /streamer-dropdown -->
    </div><!-- /streamer-wrap -->

    <!-- Ø§Ù„Ù…Ø³Ø±Ø­: ÙØ±ÙŠÙ‚ ÙŠÙ…ÙŠÙ† â€“ Ù„Ø¹Ø¨Ø© â€“ ÙØ±ÙŠÙ‚ ÙŠØ³Ø§Ø± -->
    <div class="stage">
      <div class="team team-blue">
        <h3>ğŸ”µ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚</h3>
        <div id="bluePlayers" class="players-list"></div>
      </div>

      <div class="game-area">

        <!-- âœ… Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø¯Ø§Ø®Ù„ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù„Ø¹Ø¨Ø© -->
        <div class="game-actions-bar">
          <div class="game-actions-right">
            <button id="startButton" class="gbtn primary" onclick="startGame()">ğŸ® Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
            <button class="gbtn skip-btn" onclick="skipTurn()">â­ï¸ ØªØ®Ø·ÙŠ (âˆ’2)</button>
          </div>
          <div class="game-actions-left">
            <button class="gbtn" onclick="startTimer()">â³ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø¤Ù‚Øª</button>
            <button class="gbtn" onclick="nextTurn()">â­ï¸ Ø§Ù„ØªØ§Ù„ÙŠ</button>
            <button class="gbtn" onclick="useHint()">ğŸ’¡ ØªÙ„Ù…ÙŠØ­ (âˆ’5Ø«)</button>
          </div>
        </div>

        <div id="currentPlayer" class="current-player">â¬‡ï¸ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§</div>
        <div id="scrambledWord" class="scrambled-word">ğŸ”¤ Ø§Ù„ÙƒÙ„Ù…Ø© Ù‡Ù†Ø§</div>
        <div id="timer" class="timer"></div>
        <div class="progress"><div id="bar" class="bar"></div></div>

        <div id="guessResult" class="guess-result"></div>

        <div class="scoreboard">
          ğŸ”µ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚: <span id="blueScore">0</span> Ù†Ù‚Ø·Ø©<br>
          ğŸ”´ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±: <span id="redScore">0</span> Ù†Ù‚Ø·Ø©
        </div>
      </div>

      <div class="team team-red">
        <h3>ğŸ”´ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±</h3>
        <div id="redPlayers" class="players-list"></div>
      </div>
    </div><!-- /stage -->

    <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
    <div class="stats-card">
      <h3>ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</h3>
      <div id="playerStats" class="stats-grid">
        <!-- ØªØ¸Ù‡Ø± Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù‡Ù†Ø§ -->
      </div>
    </div>

  </div><!-- /container -->

  <div class="answer-box">
    âš ï¸ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©: <span id="answerText">â“</span><br>
    <button class="btn-secondary" onclick="toggleAnswer()">ğŸ‘ï¸ Ø¥Ø®ÙØ§Ø¡/Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
  </div>

  <!-- Ø²Ø± Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
  <button onclick="toggleStats()" class="stats-btn">ğŸ“Š</button>

  <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø´Ø§Øª -->
  <div id="chatLog" class="chat-log"></div>

  <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø´Ø±Ø­ -->
  <div id="helpBackdrop" class="modal-backdrop"></div>
  <div id="helpModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="helpTitle">
    <header>
      <h2 id="helpTitle">ğŸ“˜ Ø´Ø±Ø­ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø§Ù„ØªÙØµÙŠÙ„</h2>
      <button id="closeHelp" class="close" aria-label="Ø¥ØºÙ„Ø§Ù‚">âœ–</button>
    </header>
    <div class="content">
      <p>ÙÙŠ ÙƒÙ„ Ø¯ÙˆØ±ØŒ ØªØ¸Ù‡Ø± ÙƒÙ„Ù…Ø© <b>Ù…Ø¨Ø¹Ø«Ø±Ø©</b>. Ø¹Ù„Ù‰ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨Ù‡Ø§ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ø®Ù„Ø§Ù„ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø¯Ø¯.</p>
      <ul>
        <li>Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†: ÙŠÙƒØªØ¨ÙˆÙ† ÙÙŠ Ø§Ù„Ø´Ø§Øª <code class="kbd">!Ø§Ø²Ø±Ù‚</code> Ø£Ùˆ <code class="kbd">!Ø§Ø­Ù…Ø±</code> Ù„Ù„Ø§Ù†Ø¶Ù…Ø§Ù….</li>
        <li>Ø§Ù„Ø¯ÙˆØ±: ÙŠØªÙ†Ø§ÙˆØ¨ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† Ø¨ÙŠÙ† Ø§Ù„ÙØ±ÙŠÙ‚ÙŠÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§.</li>
        <li>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©: ÙŠÙƒØªØ¨ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© ÙÙŠ Ø§Ù„Ø´Ø§Øª.</li>
        <li>Ø§Ù„ØªÙ„Ù…ÙŠØ­: ÙŠÙƒØ´Ù Ø£ÙˆÙ„/Ø¢Ø®Ø± Ø­Ø±Ù ÙˆÙŠØ®ØµÙ… 5 Ø«ÙˆØ§Ù†Ù.</li>
        <li>ØªØ®Ø·ÙŠ: ÙŠÙ…ÙƒÙ† ØªØ®Ø·ÙŠ Ø§Ù„Ø¯ÙˆØ± Ù…Ø¹ Ø¹Ù‚ÙˆØ¨Ø© -2 Ù†Ù‚Ø·Ø©.</li>
      </ul>
      <p><b>Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</b></p>
      <ul>
        <li><code class="kbd">!Ù†Ù‚Ø§Ø·ÙŠ</code> - Ø¹Ø±Ø¶ Ù†Ù‚Ø§Ø·Ùƒ Ø§Ù„Ø´Ø®ØµÙŠØ©</li>
        <li><code class="kbd">!ØªØ±ØªÙŠØ¨ÙŠ</code> - Ø¹Ø±Ø¶ ØªØ±ØªÙŠØ¨Ùƒ ÙÙŠ Ø§Ù„ÙØ±ÙŠÙ‚</li>
        <li><code class="kbd">!ØªØ­Ø¯ÙŠ @Ø§Ø³Ù…</code> - ØªØ­Ø¯Ù‘ÙŠ Ù„Ø§Ø¹Ø¨ Ø¢Ø®Ø±</li>
      </ul>
      <p><b>Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø³Ø±ÙŠØ¹:</b></p>
      <ul>
        <li>Ø¥ÙŠÙ‚Ø§Ù/Ø§Ø³ØªØ¦Ù†Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª: <span class="kbd">Space</span></li>
        <li>Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©: <span class="kbd">N</span></li>
        <li>ØªÙ„Ù…ÙŠØ­: <span class="kbd">H</span></li>
        <li>Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª: <span class="kbd">S</span></li>
        <li>ØªØ®Ø·ÙŠ: <span class="kbd">K</span></li>
      </ul>
      <p><b>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:</b> ÙŠÙ…ÙƒÙ†Ùƒ Ø¶Ø¨Ø· ÙˆÙ‚Øª Ø§Ù„Ø¬ÙˆÙ„Ø© ÙˆØ§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„Ø³ØªØ±ÙŠÙ…Ø±.</p>
    </div>
  </div>

<script>
/* ========= Ø§Ù„Ø­Ø§Ù„Ø© ========= */
const bluePlayers=[];
const redPlayers=[];
let blueTurnOrder=[];
let redTurnOrder=[];
let turnIndex=0, currentAnswer="", blueScore=0, redScore=0;
let roundSeconds=30, targetScore=15, autoTimer=true, autoNext=true;
let timeLeft=0, timerInterval, timerRunning=false;
let twitchClient, kickSocket;
let currentPlayerName="", answeringTeam="";
const usedWords=[];

/* ========= Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ© ========= */
const playerStats={};
const blacklistedUsers=[];
const commandCooldowns={};

/* ========= Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª (Ù…Ø®ØªØµØ±Ø© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±) ========= */
const words = [/* Ù†ÙØ³ Ù‚Ø§Ø¦Ù…ØªÙƒ Ø§Ù„Ø·ÙˆÙŠÙ„Ø© Ù‡Ù†Ø§ ÙƒÙ…Ø§ Ø£Ø±Ø³Ù„ØªÙ‡Ø§ */ 
"Ø£Ù…Ù„","Ø­ÙŠØ§Ø©","Ù†ÙˆØ±","Ø³Ø¹Ø§Ø¯Ø©","Ø´Ù…Ø³","Ù‚Ù…Ø±","Ø³Ù…Ø§Ø¡","Ù†Ø¬Ù…Ø©","Ø¨Ø­Ø±","Ù†Ù‡Ø±",
"Ø¬Ø¨Ù„","ÙˆØ±Ø¯Ø©","Ø²Ù‡Ø±Ø©","Ø´Ø¬Ø±Ø©","ØºØ§Ø¨Ø©","Ø·ÙŠÙˆØ±","Ø£Ø³Ø¯","Ù†Ù…Ø±","ÙÙ‡Ø¯","Ø°Ø¦Ø¨",
"Ø¯Ø¨","Ø­ØµØ§Ù†","Ø­Ù…Ø§Ø±","Ø¨Ù‚Ø±Ø©","ØºØ²Ø§Ù„","Ø³Ù…ÙƒØ©","Ø­ÙˆØª","Ø¯Ù„ÙÙŠÙ†","Ù†Ø­Ù„Ø©","ÙØ±Ø§Ø´Ø©",
"Ù†Ù…Ù„Ø©","Ø¹ØµÙÙˆØ±","Ø¨Ø¨ØºØ§Ø¡","ØµÙ‚Ø±","Ø¨ÙˆÙ…Ø©","Ø¯ÙŠÙƒ","Ø¯Ø¬Ø§Ø¬Ø©","Ø¨Ø·","ÙˆØ²Ø©","Ø¨Ø·Ø©",
"ÙƒÙ„Ø¨","Ù‚Ø·Ø©","Ø¬Ù…Ù„","Ù‚Ø±Ø´","ØªÙ…Ø³Ø§Ø­","Ø³Ù„Ø­ÙØ§Ø©","Ø«Ø¹Ø¨Ø§Ù†","Ø¹Ù‚Ø±Ø¨","Ø¶ÙØ¯Ø¹","Ù‚Ø±Ø¯",
"ÙƒÙ†ØºØ±","Ø·Ø§ÙˆÙˆØ³","Ù†Ø¹Ø§Ù…Ø©","Ø­Ù…Ø§Ù…Ø©","ØºØ±Ø§Ø¨","Ø¨Ù„Ø¨Ù„","ÙŠÙ…Ø§Ù…Ø©","Ø¯Ø±Ø§Ø¬","Ø¯Ø¨ÙˆØ±","Ø¬Ø±Ø§Ø¯Ø©",
"ØµØ±ØµÙˆØ±","ÙŠØ±Ø§Ø¹Ø©","Ø®ÙØ§Ø´","Ø£Ø±Ù†Ø¨","Ø­Ø±Ø¨Ø§Ø¡","ØºØ±ÙŠØ±","Ù„Ø§Ù…Ø§","Ù…ÙˆØ¸","Ø¸Ø¨ÙŠ","Ø¶Ø¨Ø¹",
"ØªÙ†ÙŠÙ†","Ø£Ø³Ø·ÙˆØ±Ø©","Ø³Ø§Ø­Ø±","Ù‚Ù„Ø¹Ø©","Ø¹Ø±Ø´","ØªØ§Ø¬","Ù…Ù„Ùƒ","Ù…Ù„ÙƒØ©","Ø£Ù…ÙŠØ±","Ø£Ù…ÙŠØ±Ø©",
"ÙˆØ²ÙŠØ±","Ø¬ÙŠØ´","Ø³ÙŠÙ","Ø¯Ø±Ø¹","Ø±Ù…Ø­","Ù‚ÙˆØ³","Ø³Ù‡Ù…","Ø­Ø±Ø¨Ø©","Ø®ÙˆØ°Ø©","ÙØ±Ø³",
"Ù†Ø³Ø±","Ø´Ø¹Ù„Ø©","Ù„Ù‡Ø¨","Ø¬Ù…Ø±","Ø±ÙŠØ­","Ø¹Ø§ØµÙØ©","Ø«Ù„Ø¬","Ø¨Ø±Ø¯","ØµÙ‚ÙŠØ¹","ØµØ­Ø±Ø§Ø¡",
"ÙˆØ§Ø­Ø©","Ø±Ù…Ù„","Ø·ÙŠÙ†","Ø¨Ø±ÙƒØ§Ù†","Ø²Ù„Ø²Ø§Ù„","Ù…Ø·Ø±","Ù†Ø¯Ù‰","ØºÙŠÙ…","Ø¹Ø´Ø¨","Ø£Ø±Ø¶",
"ØªØ±Ø¨Ø©","Ø­Ø¯ÙŠÙ‚Ø©","Ù…Ø²Ø±Ø¹Ø©","Ø¨Ø³ØªØ§Ù†","Ø¯ÙˆØ­Ø©","Ù…Ø¯ÙŠÙ†Ø©","Ù‚Ø±ÙŠØ©","Ø¨Ù„Ø¯Ø©","Ø³ÙˆÙ‚","Ù…ÙƒØªØ¨Ø©",
"Ù…Ø¯Ø±Ø³Ø©","Ø¬Ø§Ù…Ø¹Ø©","Ù…Ø³Ø¬Ø¯","ÙƒÙ†ÙŠØ³Ø©","Ù…Ø¹Ø¨Ø¯","Ù…ØªØ­Ù","Ù‚ØµØ±","Ù…Ø³Ø±Ø­","Ù…Ø³ØªØ´ÙÙ‰","Ù…Ø·Ø¹Ù…",
"Ù…Ù‚Ù‡Ù‰","ÙÙ†Ø¯Ù‚","Ù…Ø·Ø§Ø±","Ù…ÙŠÙ†Ø§Ø¡","Ù…Ø­Ø·Ø©","Ù‚Ø·Ø§Ø±","Ø­Ø§ÙÙ„Ø©","Ø³ÙŠØ§Ø±Ø©","Ø¯Ø±Ø§Ø¬Ø©","Ø³ÙÙŠÙ†Ø©",
"Ø·Ø§Ø¦Ø±Ø©","ØµØ§Ø±ÙˆØ®","Ù‚Ø§Ø±Ø¨","ØºÙˆØ§ØµØ©","Ù…Ø±ÙˆØ­ÙŠØ©","Ù…ØµØ¨Ø§Ø­","Ø´Ù…Ø¹Ø©","Ø¨Ø·Ø§Ø±ÙŠØ©","Ù‡Ø§ØªÙ","Ø­Ø§Ø³ÙˆØ¨",
"Ù„ÙˆØ­Ø©","Ø³Ø§Ø¹Ø©","ÙƒØªØ§Ø¨","Ø¯ÙØªØ±","Ù‚Ù„Ù…","ÙØ±Ø´Ø§Ø©","Ù…Ù…Ø­Ø§Ø©","Ù…Ø³Ø·Ø±Ø©","Ù…Ù‚Øµ","Ù…Ø±Ø¢Ø©",
"ÙƒØ±Ø³ÙŠ","Ø·Ø§ÙˆÙ„Ø©","Ø³Ø±ÙŠØ±","Ø®Ø²Ø§Ù†Ø©","Ø¨Ø§Ø¨","Ù†Ø§ÙØ°Ø©","Ø³ØªØ§Ø±Ø©","Ø³Ø¬Ø§Ø¯Ø©","ÙˆØ³Ø§Ø¯Ø©","Ø¨Ø·Ø§Ù†ÙŠØ©",
"Ø­Ù‚ÙŠØ¨Ø©","ØµÙ†Ø¯ÙˆÙ‚","Ø¯Ø±Ø¬","Ø±Ù","Ø·Ø¨Ù‚","ÙƒÙˆØ¨","Ù…Ù„Ø¹Ù‚Ø©","Ø³ÙƒÙŠÙ†","Ø´ÙˆÙƒØ©","Ù‚Ø¯Ø±",
"Ù…Ù‚Ù„Ø§Ø©","ØºÙ„Ø§ÙŠØ©","Ø²Ø¬Ø§Ø¬Ø©","Ø¬Ø±Ø©","ÙˆØ¹Ø§Ø¡","Ù…ØµÙØ§Ø©","Ù…ØºØ³Ù„Ø©","Ø«Ù„Ø§Ø¬Ø©","ÙØ±Ù†","Ù…ÙƒÙŠÙ",
"Ù…Ø¯ÙØ£Ø©","Ù…Ø±ÙˆØ­Ø©","ØºØ³Ø§Ù„Ø©","Ù…Ø¬ÙÙ","Ù…ÙƒÙ†Ø³Ø©","Ù…Ù…Ø³Ø­Ø©","Ø³Ù„Ø©","Ø¹Ù„Ø¨Ø©","Ù…ØºÙ„Ù","Ù…Ø·Ø±Ù‚Ø©",
"Ù…Ø³Ù…Ø§Ø±","Ù…ÙØªØ§Ø­","ÙƒÙ…Ø§Ø´Ø©","Ù…Ù†Ø´Ø§Ø±","Ù…Ø¨Ø±Ø¯","Ù…Ø«Ù‚Ø§Ø¨","Ø­Ø¨Ù„","Ø³Ù„Ø³Ù„Ø©","Ù‚ÙÙ„","Ù…ÙŠØ²Ø§Ù†",
"Ù…ÙŠØ²Ø§Ø¨","Ø®Ø±Ø·ÙˆÙ…","Ø¨Ø±Ù…ÙŠÙ„","Ø¯Ù„Ùˆ","Ø³Ø·Ù„","Ø§Ø³ÙÙ†Ø¬Ø©","ØµØ§Ø¨ÙˆÙ†","Ù…Ø¹Ø¬ÙˆÙ†","Ù…Ø±Ø·Ø¨","Ù…Ø±Ù‡Ù…",
"Ø¯ÙˆØ§Ø¡","Ø¹Ø·Ø±","Ø¨Ø®ÙˆØ±","Ù…Ù†Ø´ÙØ©","Ø´Ø±Ø´Ù","Ø­Ø¬Ø§Ø¨","Ù‚Ø¨Ø¹Ø©","Ù‚Ù…ÙŠØµ","Ø¨Ù†Ø·Ø§Ù„","ØªÙ†ÙˆØ±Ø©",
"ÙØ³ØªØ§Ù†","Ø¬Ø§ÙƒÙŠØª","Ù…Ø¹Ø·Ù","Ø­Ø°Ø§Ø¡","Ø¬ÙˆØ±Ø¨","Ù‚ÙØ§Ø²","Ù†Ø¸Ø§Ø±Ø©","Ø­Ø²Ø§Ù…","Ù…Ø­ÙØ¸Ø©",
"Ø®Ø§ØªÙ…","Ù‚Ù„Ø§Ø¯Ø©","Ø­Ù„Ù‚","Ø²ÙŠÙ†Ø©","Ù…Ø¸Ù„Ø©","Ø´Ø±ÙØ©","Ø³Ø·Ø­","Ø³Ø±Ø¯Ø§Ø¨","Ù‚Ø¨Ùˆ",
"Ø¯Ù‡Ù„ÙŠØ²","Ø±Ø¯Ù‡Ø©","ØµØ§Ù„Ø©","Ù…Ø·Ø¨Ø®","Ù…Ù…Ø±","Ø¨ÙˆØ§Ø¨Ø©","Ø³ÙˆØ±","Ø³ÙŠØ§Ø¬","Ø±ØµÙŠÙ",
"Ø¬Ø³Ø±","Ù†ÙÙ‚","Ù…ÙŠØ¯Ø§Ù†","Ø´Ø§Ø±Ø¹","Ø²Ù‚Ø§Ù‚","Ø¯Ø±Ø¨","Ø·Ø±ÙŠÙ‚","Ù…Ø³Ø§Ø±","Ø±Ø­Ù„Ø©","Ø³ÙØ±Ø©",
"Ø¬ÙˆÙ„Ø©","Ù†Ø²Ù‡Ø©","Ù…ØºØ§Ù…Ø±Ø©","Ø§ÙƒØªØ´Ø§Ù","Ø¨Ø­Ø«","Ù„Ù‚Ø§Ø¡","Ù…ÙˆØ¹Ø¯","Ø§Ø¬ØªÙ…Ø§Ø¹","Ù…Ø­Ø§Ø¯Ø«Ø©","Ù†Ù‚Ø§Ø´",
"Ø§ØªÙØ§Ù‚","Ø¹Ù‚Ø¯","ØµÙÙ‚Ø©","ØªØ¬Ø§Ø±Ø©","Ø¨ÙŠØ¹","Ø´Ø±Ø§Ø¡","ØªØ¨Ø§Ø¯Ù„","Ù‡Ø¯ÙŠØ©","ØªØ°ÙƒØ§Ø±","ØªØ­ÙØ©",
"ØµÙˆØ±Ø©","Ø±Ø³Ù…","ØªÙ…Ø«Ø§Ù„","Ø·Ø§Ø¨Ø¹","Ø®ØªÙ…","Ø¸Ø±Ù","ÙˆØ«ÙŠÙ‚Ø©","Ø¨Ø·Ø§Ù‚Ø©","Ø¬ÙˆØ§Ø²",
"ØªØ±Ø®ÙŠØµ","ÙØ§ØªÙˆØ±Ø©","Ø¥ÙŠØµØ§Ù„","Ø³Ø¬Ù„","Ù…ÙÙƒØ±Ø©","Ù…Ø°ÙƒØ±Ø©","ØªÙ‚Ø±ÙŠØ±","Ù‚ØµØ©","Ø±ÙˆØ§ÙŠØ©",
"Ù…Ø¬Ù„Ø©","Ø¬Ø±ÙŠØ¯Ø©","Ø¥Ø¹Ù„Ø§Ù†","Ø¯Ø¹Ø§ÙŠØ©","Ø´Ø¹Ø§Ø±","Ø¹Ù„Ø§Ù…Ø©","Ø±Ù…Ø²","Ø®Ø±ÙŠØ·Ø©","Ø¬Ø¯ÙˆÙ„","ØªØµÙ…ÙŠÙ…",
"Ø®Ø·Ø©","Ø¨Ø±Ù†Ø§Ù…Ø¬","Ø·Ø±ÙŠÙ‚Ø©","Ù†Ù…Ø·","Ø´ÙƒÙ„","Ø¨Ù†ÙŠØ©","Ù‡ÙŠÙƒÙ„","Ø¹Ù…Ø§Ø±Ø©","Ø²Ø®Ø±ÙØ©","Ù†Ù‚Ø´",
"ØªØ·Ø±ÙŠØ²","ØµØ¨Ø§ØºØ©","ØªØ±Ù…ÙŠÙ…","ØµÙŠØ§Ù†Ø©","ØªØµÙˆÙŠØ±","Ø·Ø¨Ø§Ø¹Ø©","Ù†Ø³Ø®","ØªØ±Ø¬Ù…Ø©","ØªØ­Ø±ÙŠØ±","Ø¥Ø¹Ø¯Ø§Ø¯",
"Ø¥Ù†ØªØ§Ø¬","Ù†Ø´Ø±","Ø¥Ø°Ø§Ø¹Ø©","ØªØ³Ø¬ÙŠÙ„","Ø¹Ø±Ø¶","Ù…Ø´Ø§Ø±ÙƒØ©","ØªÙˆØ²ÙŠØ¹","ØªØ­Ù…ÙŠÙ„","ØªØ´ØºÙŠÙ„","Ø¥ÙŠÙ‚Ø§Ù",
"Ø¨Ø¯Ø¡","ØªØ­Ø¯ÙŠØ«","ØªØ·ÙˆÙŠØ±","Ø¥ØµÙ„Ø§Ø­","ØªØºÙŠÙŠØ±","Ø­Ø°Ù","Ø¥Ø¶Ø§ÙØ©","Ù„ØµÙ‚","Ø­ÙØ¸",
"Ø±ÙØ¹","ØªÙ†Ø²ÙŠÙ„","Ø¥Ø±Ø³Ø§Ù„","Ø§Ø³ØªÙ‚Ø¨Ø§Ù„","Ø¶Ø¨Ø·","ØªÙ‡ÙŠØ¦Ø©","ØªÙØ¹ÙŠÙ„","Ø¥Ù„ØºØ§Ø¡","Ø­Ù…Ø§ÙŠØ©",
"ØªØ´ÙÙŠØ±","Ø¨Ø±Ù…Ø¬Ø©","Ø§Ø®ØªØ¨Ø§Ø±","ØªÙˆØ«ÙŠÙ‚","Ø¯Ø¹Ù…","Ù…ØªØ§Ø¨Ø¹Ø©","Ø¥Ø¯Ø§Ø±Ø©","Ù‚ÙŠØ§Ø¯Ø©",
"ØªÙ†Ø¸ÙŠÙ…","ØªÙˆØ¬ÙŠÙ‡","Ù…Ø±Ø§Ù‚Ø¨Ø©","ØªÙ‚ÙŠÙŠÙ…","ØªØ­Ù„ÙŠÙ„","Ø§Ø¨ØªÙƒØ§Ø±","Ø§Ø³ØªÙƒØ´Ø§Ù","ØªØ¹Ù„ÙŠÙ…","ØªØ¯Ø±ÙŠØ¨","ØªØ¯Ø±ÙŠØ³",
"Ø´Ø±Ø­","ØªÙˆØ¶ÙŠØ­","Ø¥ÙŠØ¶Ø§Ø­","ØªØ­Ø³ÙŠÙ†","ØªØ¹Ø¯ÙŠÙ„","ØªØ¬Ø±Ø¨Ø©","Ù…Ø­Ø§ÙˆÙ„Ø©","Ø¥Ù†Ø¬Ø§Ø²","Ù†Ø¬Ø§Ø­","ØªÙ…ÙŠØ²",
"Ø´ØºÙ","Ø¥Ù„Ù‡Ø§Ù…","Ø¥Ø¨Ø¯Ø§Ø¹","Ø®ÙŠØ§Ù„","ÙÙƒØ±","ÙˆØ¹ÙŠ","Ø¥Ø¯Ø±Ø§Ùƒ","Ø­ÙƒÙ…Ø©","Ù…Ø¹Ø±ÙØ©","Ø®Ø¨Ø±Ø©",
"Ù…ÙˆÙ‡Ø¨Ø©","Ù…Ù‡Ø§Ø±Ø©","Ù‚Ø¯Ø±Ø©","ÙƒÙØ§Ø¡Ø©","ØªØ®ØµØµ","Ø§Ù‡ØªÙ…Ø§Ù…","ÙØ¶ÙˆÙ„","Ø±ØºØ¨Ø©","Ø¹Ø²ÙŠÙ…Ø©",
"Ø¥Ø±Ø§Ø¯Ø©","Ø·Ù…ÙˆØ­","ØªÙØ§Ø¤Ù„","Ø¥ÙŠÙ…Ø§Ù†","ÙŠÙ‚ÙŠÙ†","Ø«Ù‚Ø©","Ø¥Ø®Ù„Ø§Øµ","Ù…Ø­Ø¨Ø©",
"Ù…ÙˆØ¯Ø©","Ø±Ø­Ù…Ø©","Ø¹Ø·Ù","Ø­Ù†Ø§Ù†","Ø±Ø¹Ø§ÙŠØ©","ØªØ¹Ø§ÙˆÙ†","Ù…Ø³Ø§Ø¹Ø¯Ø©","ØªØ¶Ø§Ù…Ù†","Ù…ÙˆØ§Ø³Ø§Ø©",
"ØµØ¯Ø§Ù‚Ø©","Ø£Ø®ÙˆØ©","Ù‚Ø±Ø§Ø¨Ø©","Ø¬Ø§Ø±","Ø¶ÙŠÙ","Ø²Ù…ÙŠÙ„","Ø´Ø±ÙŠÙƒ","Ø±ÙÙŠÙ‚","Ù…Ø¹Ø§Ø±Ù","Ù†Ø§Ø³",
"Ø´Ø®Øµ","Ø±Ø¬Ù„","Ø§Ù…Ø±Ø£Ø©","Ø·ÙÙ„","Ø´Ø§Ø¨","ÙØªØ§Ø©","ÙƒÙ‡Ù„","Ø´ÙŠØ®","Ù…Ø³Ù†","Ø¹Ø¬ÙˆØ²",
"Ø±Ø¶ÙŠØ¹","Ù…Ø±Ø§Ù‡Ù‚","ÙŠØªÙŠÙ…","Ø£Ø±Ù…Ù„","Ø£Ø¹Ø²Ø¨","Ù…ØªØ²ÙˆØ¬","Ù…Ø·Ù„Ù‚","Ø­Ø¨ÙŠØ¨","Ø®Ø·ÙŠØ¨","ØµØ¯ÙŠÙ‚",
"Ø¹Ø¯Ùˆ","Ø®ØµÙ…","Ù…Ù†Ø§ÙØ³","ØªØ§Ø¨Ø¹","Ù…Ø³ØªÙ‚Ù„","Ù…Ø­Ø§ÙŠØ¯","Ø²Ø¹ÙŠÙ…","Ù‚Ø§Ø¦Ø¯","Ø±Ø¦ÙŠØ³",
"ÙˆÙƒÙŠÙ„","Ù†Ø§Ø¦Ø¨","Ø³ÙÙŠØ±","ÙˆØ§Ù„ÙŠ","Ø­Ø§ÙƒÙ…","Ù‚Ø§Ø¶ÙŠ","Ù…Ø­Ø§Ù…ÙŠ","Ø´Ø±Ø·ÙŠ","Ø¬Ù†Ø¯ÙŠ",
"Ø·ÙŠØ§Ø±","Ø¨Ø­Ø§Ø±","Ø³Ø§Ø¦Ù‚","Ø¹Ø§Ù…Ù„","Ø­Ø§Ø±Ø³","Ù…Ø²Ø§Ø±Ø¹","ØµÙŠØ§Ø¯","ØµØ§Ù†Ø¹","Ø¨Ø§Ø¦Ø¹","ØªØ§Ø¬Ø±",
"Ù†Ø¬Ø§Ø±","Ø­Ø¯Ø§Ø¯","Ø®ÙŠØ§Ø·","Ø­Ù„Ø§Ù‚","Ù…ØµÙˆØ±","Ù…Ø®Ø±Ø¬","Ù…Ù…Ø«Ù„","Ù…ØºÙ†ÙŠ",
"Ø´Ø§Ø¹Ø±","ÙƒØ§ØªØ¨","Ù…Ø¤Ù„Ù","Ù†Ø§Ù‚Ø¯","Ù…ÙˆØ³ÙŠÙ‚ÙŠ","ÙÙ†Ø§Ù†","Ø£Ø¯ÙŠØ¨","Ø¹Ø§Ù„Ù…","Ø¨Ø§Ø­Ø«","Ù…Ø®ØªØ±Ø¹",
"Ù…Ø¨ØªÙƒØ±","Ù…ÙƒØªØ´Ù","Ù…Ø¯ÙŠØ±","Ù…Ø³Ø¤ÙˆÙ„","Ù…Ø¯Ø±Ø¨","Ù…Ø¹Ù„Ù…","Ù…Ø±Ø´Ø¯","ÙˆØ§Ø¹Ø¸","Ø¥Ù…Ø§Ù…",
"Ø¯Ø§Ø¹ÙŠØ©","Ø²Ø§Ù‡Ø¯","Ø­ÙƒÙŠÙ…","ÙÙ‚ÙŠÙ‡","Ù…Ø¤Ø±Ø®","ØµØ­ÙÙŠ","Ù…Ø°ÙŠØ¹","Ù…Ø±Ø§Ø³Ù„","Ù…Ø­Ø±Ø±",
"Ù…ØªØ±Ø¬Ù…","Ù…Ø¯Ù‚Ù‚","Ù†Ø§Ø´Ø±","Ù…ÙˆØ²Ø¹","Ù…Ø³ÙˆÙ‚","Ù…Ø·ÙˆØ±","Ù…Ø¨Ø±Ù…Ø¬","Ù…ØµÙ…Ù…","Ù…Ù†ØªØ¬","Ù…Ù†Ø´Ø¯",
"Ù…Ø¤Ø°Ù†","Ø­Ø§ÙØ¸","Ù‚Ø§Ø±Ø¦","Ù†Ø§Ø³Ø®","Ø®Ø·Ø§Ø·","Ø²Ø®Ø±Ù","Ù…Ù†Ù‚ÙˆØ´","ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ",
"Ø³Ø¨Ø§Ùƒ","Ø¨Ù†Ø§Ø¡","Ø±Ø§Ø¹ÙŠ","Ù…Ø±Ø¨ÙŠ","Ø·Ø¨Ø§Ø®","Ø¬Ø²Ø§Ø±","Ø®Ø¨Ø§Ø²",
"Ø³Ø§Ø¹ÙŠ","Ù…Ø³ØªØ´Ø§Ø±","Ø³Ù„Ø·Ø§Ù†","Ø®Ù„ÙŠÙØ©","Ø£Ø³ØªØ§Ø°","Ù…Ø­Ø§Ø³Ø¨",
"Ø·Ø¨ÙŠØ¨","ØµÙŠØ¯Ù„ÙŠ","Ù…Ù…Ø±Ø¶","Ø¬Ø±Ø§Ø­","Ù…Ø¹Ø§Ù„Ø¬","Ø®Ø¨ÙŠØ±","ÙÙ†ÙŠ","Ù…Ù‡Ù†Ø¯Ø³","Ù…ÙÙƒØ±","Ù†Ø§Ø¸Ø±",
"Ù…ÙØªØ´","Ù…Ø±Ø§Ù‚Ø¨","Ù…Ø´ØºÙ„","Ù…Ù„Ø§Ø­Ø¸","Ù†Ø§Ø¯Ù„","Ø®Ø§Ø¯Ù…","Ø­Ù…Ø§Ù„","Ø¨ÙˆØ§Ø¨","Ù†Ø§Ø·ÙˆØ±","Ù…Ø´Ø±Ù",
"Ø§Ø¨ØªØ³Ø§Ù…Ø©","Ø¥ØµØ±Ø§Ø±","Ø¥Ù†Ø¬Ø§Ø²","Ø¥ÙŠØ«Ø§Ø±","Ø¨Ø³Ø§Ø·Ø©","Ø¨Ù‡Ø¬Ø©","ØªØ­Ø¯ÙŠ","ØªÙØ§Ù†ÙŠ","ØªÙ…Ø§Ø³Ùƒ","Ø«Ø¨Ø§Øª",
"Ø¬Ù…Ø§Ù„","Ø¬ÙˆØ¯","Ø­Ø¨","Ø­Ù„Ù…","Ø®Ø¬Ù„","Ø¯Ø¹Ù…","Ø°ÙƒØ§Ø¡","Ø±ÙˆØ­","Ø²Ù‡Ø¯","Ø³Ø®Ø§Ø¡",
"Ø³Ù„Ø§Ù…","Ø´Ø¬Ø§Ø¹Ø©","ØµØ¨Ø±","Ø¶Ø­Ùƒ","Ø·Ù…Ø£Ù†ÙŠÙ†Ø©","Ø¹Ø·Ø§Ø¡","ÙØ±Ø­","ÙØ®Ø±","Ù‚ÙˆØ©","ÙƒØ±Ù…",
"Ù„Ø·Ù","Ù…Ø±Ø­","Ù†Ù‚Ø§Ø¡","Ù‡Ø¯ÙˆØ¡","ÙˆÙØ§Ø¡","ÙŠØ³Ø±","Ø£Ù…Ø§Ù†","Ø¥Ø¨Ø¯Ø§Ø¹","Ø¨Ø±Ø§Ø¡Ø©","ØªØ¢Ù„Ù",
"ØªØ³Ø§Ù…Ø­","ØªÙˆØ§Ø¶Ø¹","Ø¬Ø§Ø°Ø¨ÙŠØ©","Ø­ÙƒÙ…Ø©","Ø®ÙŠØ§Ù„","Ø¯ÙØ¡","Ø±Ù‚Ø©","Ø´Ù‡Ø§Ù…Ø©","ØµÙØ§Ø¡","Ø¹Ø²ÙŠÙ…Ø©",
"Ø¹ÙÙˆÙŠØ©","ØºØ±ÙˆØ±","ÙØ·Ø±Ø©","Ù‚Ù†Ø§Ø¹Ø©","Ù„Ø¨Ø§Ù‚Ø©","Ù…Ø±ÙˆØ¡Ø©","Ù†Ø¨Ù„","Ù‡ÙŠØ¨Ø©","ÙˆØ¯Ø§Ø¹Ø©","ÙŠØ£Ø³",
"Ø¥ØªÙ‚Ø§Ù†","Ø¨Ø´Ø§Ø´Ø©","ØªØ£Ù„Ù‚","ØªØ¹Ø§Ø·Ù","Ø¬Ø¯","Ø­Ø²Ù…","Ø®Ø¨Ø±Ø©","Ø¯Ù‚Ø©","Ø±Ø²Ø§Ù†Ø©","Ø³Ø¹Ø§Ø¯Ø©",
"Ø´Ù…ÙˆØ®","ØµØ¯Ù‚","Ø·Ù…ÙˆØ­","Ø¹ÙØ©","ØºÙ…ÙˆØ¶","ÙØ·Ù†Ø©","Ù‚Ø¯Ø±","ÙƒÙŠØ§Ø³Ø©","Ù…Ø«Ø§Ø¨Ø±Ø©","Ù†Ø´Ø§Ø·",
"Ù‡Ù…Ø©","Ø£Ù„ÙØ©","Ø¨Ø´Ø±","ØªÙƒØ§ÙÙ„","Ø«Ù‚Ø©","Ø­ÙŠØ§Ø©","Ø®ÙˆÙ","Ø°ÙˆÙ‚","Ø±Ø­ÙŠÙ„","Ø²Ù‡Ùˆ",
"Ø´ÙˆÙ‚","ØµÙ…ÙˆØ¯","Ø¹Ø´Ù‚","ÙØ±ÙˆØ³ÙŠØ©","Ù‚Ø¯Ø±Ø©","ÙƒÙ„Ù…Ø©","Ù…ÙˆØ¯Ø©","Ù†Ù‚Ø§Ø´","Ù‡Ù…Ø³","ÙˆØ¬Ø¯",
"Ø¥Ø­Ø³Ø§Ù†","Ø¨ØµÙŠØ±Ø©","ØªÙ…ÙŠØ²","Ø­ÙƒÙ…Ø©","Ø¯Ù„Ø§Ù„","Ø±Ø§Ø­Ø©","Ø³Ø­Ø±","Ø´ØºÙ","Ø¶ÙŠØ§Ø¡","Ø¹Ø¨Ø±Ø©",
"ÙÙ†","Ù‚ÙŠÙ…Ø©","Ù„ØºØ©","Ù…Ù‡Ø§Ø±Ø©","Ù†ÙˆØ±","Ù‡ÙˆÙŠØ©","Ø§Ø¨ØªÙƒØ§Ø±","Ø¨Ø±ÙŠÙ‚","ØªØ­Ù…Ù„","ØªØ¹Ù„Ù‚",
"Ø¬Ù„Ø§Ù„","Ø­Ù†ÙŠÙ†","Ø¯Ø¹Ø§Ø¨Ø©","Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ©","Ø³Ù…Ùˆ","Ø´Ø¹Ø±","ØµØ®Ø¨","Ø¹Ø¸Ù…Ø©","ÙÙ„Ø³ÙØ©","Ù‚Ø¨Ø³",
"Ù„Ù…Ø³Ø©","Ù…Ø²Ø§Ø¬","Ù†ØºÙ…","Ù‡Ø¨Ø©","Ø¥Ø±Ø«","Ø¨Ø³Ø§Ù„Ø©","ØªØ£Ù…Ù„","Ø¬Ø±Ø£Ø©","Ø­Ø¶ÙˆØ±","Ø®Ø¨Ø±",
"Ø¯ÙŠÙ†","Ø±ÙŠØ§Ø¯Ø©","Ø³ÙƒÙˆÙ†","Ø´Ø±Ø§ÙƒØ©","ØµØ¯ÙŠÙ‚","Ø¹Ø·Ø´","ÙÙƒØ±","Ù‚Ø¯ÙˆØ©","Ù„Ù‚Ø§Ø¡","Ù…Ø¨Ø¯Ø£",
"Ù†Ø¶Ø¬","Ù‡ÙŠØ§Ù…","Ø¥Ø´Ø±Ø§Ù‚","Ø¨Ø²ÙˆØº","ØªØ­Ù‚ÙŠÙ‚","ØªØ¶Ø­ÙŠØ©","Ø¬Ø°Ù„","Ø­ÙƒØ§ÙŠØ©","Ø¯Ø±Ø§ÙŠØ©","Ø±ØºØ¨Ø©",
"Ø³Ø±Ø¯","Ø´ÙƒØ±","ØµØ¯Ù‰","Ø¹Ø²","ÙÙ‡Ù…","Ù‚Ù„Ø¨","Ù…Ù‚ØµØ¯","Ù†Ù‡Ø¶Ø©","ÙˆØ¬Ø¯Ø§Ù†","Ø¥Ù„Ù‡Ø§Ù…",
"Ø¨Ø²ÙˆØº","ØªÙ†Ø§ØºÙ…","Ø­ÙˆØ§Ø±","Ø°ÙƒØ§Ø¡","Ø±ÙˆØ§ÙŠØ©","Ø³Ø¹Ø§Ø¯Ø©","Ø´Ø¹Ø±","ØµÙˆØª","Ø¹Ø§Ù„Ù…","ÙÙ†ÙˆÙ†",
"Ù‚ØµØ©","Ù…ÙƒØªØ¨","Ù†Ù‡Ø§ÙŠØ©","Ù‡Ù†Ø¯Ø³Ø©","Ø§Ø¨ØªÙƒØ§Ø±","Ø¨Ø­Ø±","ØªØ§Ø±ÙŠØ®","Ø­Ø¶Ø§Ø±Ø©","Ø¯ÙˆØ§Ø¡","Ø±Ø³Ù…",
"Ø³ÙØ±","Ø´Ù…Ø³","ØµØ­Ø©","Ø¹Ù„Ù…","ÙÙ„Ùƒ","Ù‚Ù…Ø±","Ù…ÙˆØ³ÙŠÙ‚Ù‰","Ù†Ø¬ÙˆÙ…","Ù‡ÙˆØ§Ø¡","ÙŠØ§Ù‚ÙˆØª"
];


/* ========= Ø£Ø¯ÙˆØ§Øª ========= */
function normalizeArabic(s){ 
    if(!s) return "";
    return s.replace(/[\u0640]/g,'')
           .replace(/[Ø¥Ø£Ø¢Ø§]/g,'Ø§')
           .replace(/Ù‰/g,'ÙŠ')
           .replace(/Ø¤/g,'Ùˆ')
           .replace(/Ø¦/g,'ÙŠ')
           .replace(/Ø©/g,'Ù‡')
           .replace(/\s+/g,'')
           .trim(); 
}

function shuffleWord(w){ 
    let a=w.split(''), s; 
    do{ 
        s=a.slice();
        for(let i=s.length-1;i>0;i--){
            const j=Math.floor(Math.random()*(i+1)); 
            [s[i],s[j]]=[s[j],s[i]];
        } 
    } while(s.join('')===w);
    return s.join(' '); 
}

/* ========= Ù†Ø¸Ø§Ù… Ø§Ù„ØµØ¹ÙˆØ¨Ø© ========= */
function getDifficultyLevel(word) {
    const length = word.length;
    if (length <= 5) return { level: 'ğŸŸ¢ Ø³Ù‡Ù„', time: 25, points: 1 };
    if (length <= 7) return { level: 'ğŸŸ¡ Ù…ØªÙˆØ³Ø·', time: 35, points: 2 };
    return { level: 'ğŸ”´ ØµØ¹Ø¨', time: 50, points: 3 };
}

/* ========= Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ© ========= */
function playSound(type) {
    try {
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = ctx.createOscillator();
        const gainNode = ctx.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(ctx.destination);
        
        switch(type) {
            case 'correct':
                oscillator.frequency.value = 880;
                gainNode.gain.setValueAtTime(0.05, ctx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);
                oscillator.start();
                oscillator.stop(ctx.currentTime + 0.3);
                break;
                
            case 'wrong':
                oscillator.frequency.value = 220;
                gainNode.gain.setValueAtTime(0.05, ctx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.4);
                oscillator.start();
                oscillator.stop(ctx.currentTime + 0.4);
                break;
                
            case 'hint':
                oscillator.frequency.value = 440;
                gainNode.gain.setValueAtTime(0.03, ctx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.2);
                oscillator.start();
                oscillator.stop(ctx.currentTime + 0.2);
                break;
                
            case 'time':
                oscillator.frequency.value = 330;
                gainNode.gain.setValueAtTime(0.04, ctx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.1);
                oscillator.start();
                oscillator.stop(ctx.currentTime + 0.1);
                break;
                
            case 'skip':
                oscillator.frequency.value = 180;
                gainNode.gain.setValueAtTime(0.06, ctx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.5);
                oscillator.start();
                oscillator.stop(ctx.currentTime + 0.5);
                break;
        }
        
        setTimeout(() => ctx.close(), 500);
    } catch(e) {
        console.log("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¯Ø¹Ù… Ù„Ù„ØµÙˆØª");
    }
}

/* ========= ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù…Ø¹ Ø§Ù„Ù…Ø¤Ø´Ø± ========= */
function updatePlayerList(team){
    const listId = team === 'blue' ? "bluePlayers" : "redPlayers";
    const players = team === 'blue' ? bluePlayers : redPlayers;
    
    document.getElementById(listId).innerHTML = players.map((p, i) => {
        const isCurrent = (p === currentPlayerName);
        const currentClass = isCurrent ? 'player-current-turn' : '';
        
        return `
            <div class="player-entry ${currentClass}" data-player="${p}" style="display:flex;justify-content:space-between;align-items:center;margin:4px 0;padding:8px 12px;border-radius:8px;background:${isCurrent ? 'rgba(255,51,51,0.1)' : 'transparent'};">
                <span style="flex:1;text-align:right;">
                    ${isCurrent ? 'ğŸ® ' : 'â€¢ '}${p}
                    ${isCurrent ? '<span style="color:var(--red);font-size:14px;">â† Ø¯ÙˆØ±Ùƒ!</span>' : ''}
                </span>
                <button style="background:#900;font-size:14px;padding:4px 8px;border:none;border-radius:6px;cursor:pointer" 
                        onclick="removePlayer('${team}',${i})" title="Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨">
                    ğŸ—‘ï¸
                </button>
            </div>
        `;
    }).join("");
    
    saveState();
}

function removePlayer(team,index){
    let removed;
    if(team === 'blue'){ 
        removed = bluePlayers.splice(index,1)[0]; 
        blueTurnOrder = blueTurnOrder.filter(p => p !== removed); 
        delete playerStats[removed];
    } else { 
        removed = redPlayers.splice(index,1)[0]; 
        redTurnOrder = redTurnOrder.filter(p => p !== removed);
        delete playerStats[removed];
    }
    updatePlayerList(team);
    saveStats();
}

/* ========= Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ========= */
function updatePlayerStats(username, correct) {
    if (!playerStats[username]) {
        playerStats[username] = {
            correct: 0,
            wrong: 0,
            total: 0,
            score: 0,
            team: bluePlayers.includes(username) ? 'blue' : 'red'
        };
    }
    
    playerStats[username].total++;
    if (correct) {
        playerStats[username].correct++;
        const difficulty = getDifficultyLevel(currentAnswer);
        playerStats[username].score += difficulty.points;
    } else {
        playerStats[username].wrong++;
    }
    
    saveStats();
}

function saveStats() {
    localStorage.setItem('wm_playerStats', JSON.stringify(playerStats));
}

function loadStats() {
    try {
        const saved = JSON.parse(localStorage.getItem('wm_playerStats') || '{}');
        Object.assign(playerStats, saved);
    } catch(e) {
        console.log("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:", e);
    }
}

function showStats() {
    const statsContainer = document.getElementById('playerStats');
    const allPlayers = [...new Set([...bluePlayers, ...redPlayers])];
    
    if (allPlayers.length === 0) {
        statsContainer.innerHTML = '<div style="text-align:center;color:#aaa;padding:20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¨Ø¹Ø¯</div>';
        return;
    }
    
    const statsHTML = allPlayers.map(player => {
        const stat = playerStats[player] || { 
            correct: 0, 
            wrong: 0, 
            total: 0, 
            score: 0,
            team: 'none'
        };
        
        const accuracy = stat.total > 0 ? Math.round((stat.correct / stat.total) * 100) : 0;
        const teamColor = stat.team === 'blue' ? 'var(--blue)' : stat.team === 'red' ? 'var(--red)' : '#aaa';
        
        return `
            <div class="stat-item">
                <strong style="color:${teamColor}">${player}</strong>
                <div>âœ… ØµØ­ÙŠØ­: <span style="color:var(--ok)">${stat.correct}</span></div>
                <div>âŒ Ø®Ø·Ø£: <span style="color:var(--red)">${stat.wrong}</span></div>
                <div>ğŸ¯ Ø¯Ù‚Ø©: <span style="color:var(--warn)">${accuracy}%</span></div>
                <div>â­ Ù†Ù‚Ø§Ø·: <span style="color:#ffcc00">${stat.score}</span></div>
                <div class="accuracy-bar">
                    <div class="accuracy-fill" style="width:${accuracy}%"></div>
                </div>
            </div>
        `;
    }).join("");
    
    statsContainer.innerHTML = statsHTML;
}

function toggleStats() {
    const card = document.querySelector('.stats-card');
    if (card.style.display === 'block') {
        card.style.display = 'none';
    } else {
        loadStats();
        showStats();
        card.style.display = 'block';
    }
}

/* ========= Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù…Ø§ÙŠØ© ========= */
function isUserBlacklisted(username) {
    return blacklistedUsers.includes(username.toLowerCase());
}

function checkCooldown(username, command) {
    const key = `${username}_${command}`;
    const now = Date.now();
    const lastUsed = commandCooldowns[key] || 0;
    
    // 5 Ø«ÙˆØ§Ù†ÙŠ Ù„ÙƒÙ„ Ø£Ù…Ø±
    if (now - lastUsed < 5000) {
        return false;
    }
    
    commandCooldowns[key] = now;
    return true;
}

/* ========= Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø´Ø§Øª ========= */
function sendChatMessage(message) {
    const chatLog = document.getElementById('chatLog');
    if (!chatLog) return;
    
    chatLog.style.display = 'block';
    chatLog.innerHTML = `
        <div class="chat-message">${message}</div>
    ` + chatLog.innerHTML;
    
    // Ø¥Ø®ÙØ§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†ÙŠ
    setTimeout(() => {
        if (chatLog.children.length > 10) {
            chatLog.innerHTML = chatLog.innerHTML.split('</div>').slice(0, 10).join('</div>');
        }
    }, 5000);
}

function handleChatMessage(username, content) {
    // ÙØ­Øµ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡
    if (isUserBlacklisted(username)) {
        return;
    }
    
    content = content.trim();
    const command = content.split(' ')[0];
    
    // ÙØ­Øµ Ø§Ù„ØªÙƒØ±Ø§Ø± Ù„Ù„Ø£ÙˆØ§Ù…Ø±
    if (['!Ø§Ø²Ø±Ù‚', '!Ø§Ø­Ù…Ø±', '!Ù†Ù‚Ø§Ø·ÙŠ', '!ØªØ±ØªÙŠØ¨ÙŠ', '!ØªØ­Ø¯ÙŠ'].includes(command)) {
        if (!checkCooldown(username, command)) {
            return;
        }
    }
    
    // Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    if(content === "!Ø§Ø²Ø±Ù‚"){
        if(!bluePlayers.includes(username)){
            bluePlayers.push(username);
            blueTurnOrder.push(username);
            updatePlayerList("blue");
            sendChatMessage(`ğŸ® <b>${username}</b> Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚!`);
        }
    } 
    else if(content === "!Ø§Ø­Ù…Ø±"){
        if(!redPlayers.includes(username)){
            redPlayers.push(username);
            redTurnOrder.push(username);
            updatePlayerList("red");
            sendChatMessage(`ğŸ® <b>${username}</b> Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±!`);
        }
    }
    
    // Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
    else if(content === "!Ù†Ù‚Ø§Ø·ÙŠ"){
        const stat = playerStats[username] || { score: 0 };
        sendChatMessage(`â­ <b>${username}</b>: Ù„Ø¯ÙŠÙƒ ${stat.score} Ù†Ù‚Ø·Ø©`);
    }
    
    else if(content === "!ØªØ±ØªÙŠØ¨ÙŠ"){
        if(bluePlayers.includes(username)){
            const index = blueTurnOrder.indexOf(username);
            sendChatMessage(`ğŸ”µ <b>${username}</b>: ØªØ±ØªÙŠØ¨Ùƒ ÙÙŠ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚ Ù‡Ùˆ ${index + 1}`);
        } else if(redPlayers.includes(username)){
            const index = redTurnOrder.indexOf(username);
            sendChatMessage(`ğŸ”´ <b>${username}</b>: ØªØ±ØªÙŠØ¨Ùƒ ÙÙŠ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø± Ù‡Ùˆ ${index + 1}`);
        }
    }
    
    else if(content.startsWith("!ØªØ­Ø¯ÙŠ @")){
        const target = content.replace("!ØªØ­Ø¯ÙŠ @", "").trim();
        if(bluePlayers.includes(target) || redPlayers.includes(target)){
            sendChatMessage(`âš”ï¸ <b>${username}</b> ÙŠØªØ­Ø¯Ù‰ <b>${target}</b> ÙÙŠ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©!`);
        }
    }
    
    // Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø©
    else if(timerRunning && username === currentPlayerName){
        if(normalizeArabic(content) === normalizeArabic(currentAnswer)){
            updatePlayerStats(username, true);
            checkAnswer(username, content);
        } else {
            updatePlayerStats(username, false);
            playSound('wrong');
            document.getElementById("guessResult").innerHTML = `âŒ <b>${username}</b>: Ø¥Ø¬Ø§Ø¨Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø©`;
        }
    }
}

/* ========= ØªØ®Ø²ÙŠÙ† ========= */
function saveState(){
    localStorage.setItem('wm_bluePlayers', JSON.stringify(bluePlayers));
    localStorage.setItem('wm_redPlayers', JSON.stringify(redPlayers));
    localStorage.setItem('wm_scores', JSON.stringify({blueScore,redScore}));
    localStorage.setItem('wm_settings', JSON.stringify({ roundSeconds,targetScore,autoTimer,autoNext }));
}

function loadState(){
    try{
        const bp = JSON.parse(localStorage.getItem('wm_bluePlayers') || '[]');
        const rp = JSON.parse(localStorage.getItem('wm_redPlayers') || '[]');
        bp.forEach(p => { if(!bluePlayers.includes(p)) bluePlayers.push(p); });
        rp.forEach(p => { if(!redPlayers.includes(p)) redPlayers.push(p); });
        blueTurnOrder = [...bluePlayers]; 
        redTurnOrder = [...redPlayers];
        
        const sc = JSON.parse(localStorage.getItem('wm_scores') || '{}');
        if(typeof sc.blueScore === 'number') blueScore = sc.blueScore;
        if(typeof sc.redScore === 'number') redScore = sc.redScore;
        document.getElementById('blueScore').innerText = blueScore;
        document.getElementById('redScore').innerText = redScore;
        
        const st = JSON.parse(localStorage.getItem('wm_settings') || '{}');
        if(st.roundSeconds) roundSeconds = st.roundSeconds;
        if(st.targetScore) targetScore = st.targetScore;
        if(typeof st.autoTimer === 'boolean') autoTimer = st.autoTimer;
        if(typeof st.autoNext === 'boolean') autoNext = st.autoNext;

        document.getElementById('roundTime').value = roundSeconds;
        document.getElementById('targetScore').value = targetScore;
        document.getElementById('autoTimer').checked = autoTimer;
        document.getElementById('autoNext').checked = autoNext;

        updatePlayerList('blue'); 
        updatePlayerList('red');
        loadStats();
    } catch(e){
        console.log("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø§Ù„Ø©:", e);
    }
}

/* ========= Ø§Ù„Ù…Ø¤Ù‚Øª ========= */
function renderBar(){ 
    const bar = document.getElementById('bar'); 
    const pct = roundSeconds ? Math.max(0, Math.min(100, (timeLeft/roundSeconds)*100)) : 0; 
    bar.style.width = pct + '%'; 
}

function startTimer(){
    if(timerRunning) return;
    timeLeft = roundSeconds; 
    document.getElementById('timer').innerText = `â³ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${timeLeft} Ø«Ø§Ù†ÙŠØ©`; 
    renderBar();
    clearInterval(timerInterval); 
    timerRunning = true;
    
    // ØµÙˆØª ØªØ­Ø°ÙŠØ± Ù‚Ø¨Ù„ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
    if (timeLeft <= 5) {
        playSound('time');
    }
    
    timerInterval = setInterval(() => { 
        timeLeft--; 
        document.getElementById('timer').innerText = `â³ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${timeLeft} Ø«Ø§Ù†ÙŠØ©`; 
        renderBar();
        
        // ØµÙˆØª ØªØ­Ø°ÙŠØ± Ù‚Ø¨Ù„ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø¨Ù€5 Ø«ÙˆØ§Ù†ÙŠ
        if (timeLeft === 5) {
            playSound('time');
        }
        
        if(timeLeft <= 0){ 
            clearInterval(timerInterval); 
            timerRunning = false; 
            document.getElementById('timer').innerText = "â³ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!"; 
            playSound('time');
        } 
    }, 1000);
}

function stopTimer(){ 
    clearInterval(timerInterval); 
    timerRunning = false; 
}

function toggleTimer(){
    if(timerRunning){ 
        stopTimer(); 
    } else {
        if(timeLeft > 0){ 
            timerRunning = true; 
            timerInterval = setInterval(() => { 
                timeLeft--; 
                document.getElementById('timer').innerText = `â³ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${timeLeft} Ø«Ø§Ù†ÙŠØ©`; 
                renderBar(); 
                if(timeLeft <= 0){ 
                    stopTimer(); 
                    document.getElementById('timer').innerText = "â³ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!"; 
                } 
            }, 1000); 
        } else { 
            startTimer(); 
        }
    }
}

/* ========= Ø§Ù„Ø¬ÙˆÙ„Ø§Øª ========= */
function startGame(){
    if(!words.length){ 
        alert("âš ï¸ Ø£Ø¶Ù Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø£ÙˆÙ„Ù‹Ø§ ÙÙŠ Ù…ØªØºÙŠØ± words."); 
        return; 
    }
    document.getElementById("startButton").disabled = true;
    blueTurnOrder = [...bluePlayers]; 
    redTurnOrder = [...redPlayers]; 
    turnIndex = 0; 
    nextTurn();
}

function pickNewWord(){
    if(!words.length){ 
        currentAnswer = ""; 
        document.getElementById("scrambledWord").innerText = "âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ ÙƒÙ„Ù…Ø§Øª â€” Ø£Ø¶Ù Ù‚Ø§Ø¦Ù…ØªÙƒ"; 
        document.getElementById("answerText").innerText = "â“"; 
        return; 
    }
    
    let available = words.filter(w => !usedWords.includes(w)); 
    if(available.length === 0){ 
        usedWords.length = 0; 
        available = words.slice(); 
    }
    
    const w = available[Math.floor(Math.random() * available.length)]; 
    usedWords.push(w); 
    currentAnswer = w;
    
    // ØªØ­Ø¯ÙŠØ¯ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©
    const difficulty = getDifficultyLevel(w);
    if (autoTimer) {
        roundSeconds = difficulty.time;
        document.getElementById('roundTime').value = roundSeconds;
    }
    
    document.getElementById("scrambledWord").innerHTML = `
        <div class="new-turn-animation" style="font-size:84px;font-weight:bold;">
            ${shuffleWord(w)}
        </div>
        <div style="font-size:18px; color:var(--warn); margin-top:10px;">
            ${difficulty.level} | â±ï¸ ${difficulty.time}Ø« | â­ ${difficulty.points} Ù†Ù‚Ø·Ø©
        </div>
    `;
    
    document.getElementById("answerText").innerText = w; 
    document.getElementById("guessResult").innerHTML = "";
    
    // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
    renderBar();
}

function nextTurn(){
    stopTimer(); 
    document.getElementById("timer").innerText = ""; 
    document.getElementById('bar').style.width = '0%';
    
    if(blueTurnOrder.length === 0 || redTurnOrder.length === 0){ 
        alert("âŒ ÙŠØ¬Ø¨ ÙˆØ¬ÙˆØ¯ Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙÙŠ ÙƒÙ„Ø§ Ø§Ù„ÙØ±ÙŠÙ‚ÙŠÙ†!"); 
        document.getElementById("startButton").disabled = false;
        return; 
    }
    
    const isBlueTurn = turnIndex % 2 === 0;
    if(isBlueTurn){ 
        const i = Math.floor(turnIndex/2) % blueTurnOrder.length; 
        currentPlayerName = blueTurnOrder[i]; 
        answeringTeam = 'blue'; 
    } else { 
        const i = Math.floor(turnIndex/2) % redTurnOrder.length; 
        currentPlayerName = redTurnOrder[i]; 
        answeringTeam = 'red'; 
    }
    
    document.getElementById("currentPlayer").innerHTML = `
        <div class="new-turn-animation">
            ğŸ® <span style="color:${answeringTeam === 'blue' ? 'var(--blue)' : 'var(--red)'}">${currentPlayerName}</span> 
            | Ø§Ù„ÙØ±ÙŠÙ‚ ${answeringTeam === 'blue' ? 'ğŸ”µ Ø§Ù„Ø£Ø²Ø±Ù‚' : 'ğŸ”´ Ø§Ù„Ø£Ø­Ù…Ø±'}
        </div>
    `;
    
    turnIndex++; 
    pickNewWord(); 
    
    // ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø´Ø± Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ
    updatePlayerList('blue');
    updatePlayerList('red');
    
    if(autoTimer) {
        setTimeout(() => startTimer(), 500);
    }
}

/* ========= ØªÙ„Ù…ÙŠØ­ ========= */
function useHint(){
    if(!timerRunning && timeLeft === 0) return;
    
    timeLeft = Math.max(0, timeLeft - 5); 
    renderBar();
    playSound('hint');
    
    const ans = currentAnswer; 
    if(ans && ans.length >= 2){
        const first = ans[0], last = ans[ans.length - 1];
        document.getElementById('guessResult').innerHTML = `
            ğŸ’¡ ØªÙ„Ù…ÙŠØ­: ÙŠØ¨Ø¯Ø£ Ø¨Ù€ (<b style="color:var(--ok)">${first}</b>) 
            ÙˆÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ (<b style="color:var(--ok)">${last}</b>). 
            <span style="color:var(--red)">-5 Ø«ÙˆØ§Ù†Ù</span>
        `;
        
        if(timeLeft === 0){ 
            stopTimer(); 
            document.getElementById('timer').innerText = "â³ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!"; 
        }
    }
}

/* ========= ØªØ®Ø·ÙŠ Ø§Ù„Ø¯ÙˆØ± ========= */
function skipTurn() {
    if (!currentPlayerName) return;
    
    playSound('skip');
    
    // Ø®ØµÙ… Ù†Ù‚Ø·ØªÙŠÙ† Ù…Ù† Ø§Ù„ÙØ±ÙŠÙ‚
    if (answeringTeam === 'blue') {
        blueScore = Math.max(0, blueScore - 2);
        document.getElementById('blueScore').innerText = blueScore;
    } else {
        redScore = Math.max(0, redScore - 2);
        document.getElementById('redScore').innerText = redScore;
    }
    
    document.getElementById('guessResult').innerHTML = `
        â­ï¸ <b>${currentPlayerName}</b> ØªØ®Ø·Ù‰ Ø§Ù„Ø¯ÙˆØ±!
        <span style="color:var(--red)">-2 Ù†Ù‚Ø·Ø© Ù„Ù„ÙØ±ÙŠÙ‚ ${answeringTeam === 'blue' ? 'Ø§Ù„Ø£Ø²Ø±Ù‚' : 'Ø§Ù„Ø£Ø­Ù…Ø±'}</span>
    `;
    
    saveState();
    
    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø¯ÙˆØ± Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ©
    setTimeout(() => {
        nextTurn();
    }, 1500);
}

/* ========= Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø´Ø§Øª ========= */
function checkAnswer(username, content){
    if(!timerRunning) return;
    if(username !== currentPlayerName) return;
    
    const ok = normalizeArabic(content) === normalizeArabic(currentAnswer);
    
    if(ok){
        playSound('correct');
        document.getElementById("guessResult").innerHTML = `
            <div class="correct-animation">
                âœ… <b>${username}</b> Ø£Ø¬Ø§Ø¨ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­!
            </div>
        `;
        document.getElementById("scrambledWord").classList.add("correct-animation");
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ù‚Ø§Ø· Ø­Ø³Ø¨ Ø§Ù„ØµØ¹ÙˆØ¨Ø©
        const difficulty = getDifficultyLevel(currentAnswer);
        if(answeringTeam === 'red'){
            redScore += difficulty.points;
            document.getElementById("redScore").innerText = redScore;
            if(redScore >= targetScore){ 
                alert("ğŸ† Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø± ÙØ§Ø²!"); 
                playSound('correct');
                resetScores();
            }
        } else {
            blueScore += difficulty.points;
            document.getElementById("blueScore").innerText = blueScore;
            if(blueScore >= targetScore){ 
                alert("ğŸ† Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚ ÙØ§Ø²!"); 
                playSound('correct');
                resetScores();
            }
        }
        
        saveState(); 
        if(autoNext){ 
            setTimeout(() => {
                document.getElementById("scrambledWord").classList.remove("correct-animation");
                nextTurn(); 
            }, 1500); 
        }
    } else { 
        playSound('wrong');
        document.getElementById("guessResult").innerText = `âŒ Ø¥Ø¬Ø§Ø¨Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø©`; 
    }
}

/* ========= Ø£Ø¯ÙˆØ§Øª Ø£Ø®Ø±Ù‰ ========= */
function toggleAnswer(){ 
    const el = document.getElementById("answerText"); 
    el.style.visibility = el.style.visibility === "hidden" ? "visible" : "hidden"; 
}

function resetScores(){ 
    blueScore = 0; 
    redScore = 0; 
    document.getElementById('blueScore').innerText = blueScore; 
    document.getElementById('redScore').innerText = redScore; 
    saveState(); 
    
    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    Object.keys(playerStats).forEach(player => {
        playerStats[player].score = 0;
    });
    saveStats();
}

/* ========= Ù‚ÙˆØ§Ø¦Ù… Ù…Ù†Ø³Ø¯Ù„Ø© + ØªØ°ÙƒÙ‘Ø±Ù†ÙŠ ========= */
(function(){
    // Ø§ØªØµØ§Ù„
    const strip = document.getElementById('connectStrip');
    const toggleBtn = document.getElementById('connectToggle');
    toggleBtn?.addEventListener('click', () => strip.classList.toggle('open'));
    
    const remember = document.getElementById('rememberMe');
    const channel = document.getElementById('channelInput');
    try{
        const saved = localStorage.getItem('wm_saved_channel') || '';
        if(saved){ 
            channel.value = saved; 
            remember.checked = true; 
        }
        remember?.addEventListener('change', () => {
            if(remember.checked && channel.value.trim()){ 
                localStorage.setItem('wm_saved_channel', channel.value.trim()); 
            } else { 
                localStorage.removeItem('wm_saved_channel'); 
            }
        });
        channel?.addEventListener('input', () => { 
            if(remember.checked){ 
                localStorage.setItem('wm_saved_channel', channel.value.trim()); 
            } 
        });
    } catch(e){}
    
    // Ø³ØªØ±ÙŠÙ…Ø±
    const sStrip = document.getElementById('streamerStrip');
    const sToggle = document.getElementById('streamerToggle');
    sToggle?.addEventListener('click', () => sStrip.classList.toggle('open'));
})();

/* ========= Ø±Ø¨Ø· Ø§Ù„Ø´Ø§Øª ========= */
function setStatus(mode, platformText){
    const chip = document.getElementById('chatStatus');
    const platform = document.getElementById('statusPlatform');
    chip.classList.remove('status-ok','status-err','status-gray');
    if(mode === 'ok'){ 
        chip.classList.add('status-ok'); 
        platform.textContent = platformText; 
    } else if(mode === 'err'){ 
        chip.classList.add('status-err'); 
        platform.textContent = platformText || 'ÙØ´Ù„'; 
    } else { 
        chip.classList.add('status-gray'); 
        platform.textContent = 'â€”'; 
    }
}

function connectChat(){
    const platform = document.getElementById("platformSelect").value;
    const channel = document.getElementById("channelInput").value.trim();
    if(!channel){ 
        alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø©"); 
        setStatus('gray'); 
        return; 
    }

    try{ twitchClient?.disconnect?.(); }catch{} 
    try{ kickSocket?.close?.(); }catch{}

    if(platform === "twitch"){
        twitchClient = new tmi.Client({ channels: [channel] });
        twitchClient.connect().then(() => { 
            setStatus('ok','Twitch'); 
            sendChatMessage(`âœ… Ù…ØªØµÙ„ Ø¨Ù€ Twitch: ${channel}`);
        }).catch(() => { 
            setStatus('err','Twitch'); 
        });
        
        twitchClient.on('message', (ch, tags, message, self) => {
            const username = tags['display-name'] || (tags['username'] || '').toString();
            const content = (message || "").trim();
            handleChatMessage(username, content);
        });
    } else {
        (async() => {
            try{
                const res = await fetch(`https://kick.com/api/v2/channels/${channel}`);
                const data = await res.json();
                const roomId = data.chatroom.id;

                kickSocket = new WebSocket("wss://ws-us2.pusher.com/app/32cbd69e4b950bf97679?protocol=7&client=js&version=8.4.0-rc2&flash=false");
                kickSocket.onopen = () => {
                    kickSocket.send(JSON.stringify({event:"pusher:subscribe",data:{auth:"",channel:`chatrooms.${roomId}.v2`}}));
                    setStatus('ok','Kick');
                    sendChatMessage(`âœ… Ù…ØªØµÙ„ Ø¨Ù€ Kick: ${channel}`);
                    
                    const ping = setInterval(() => {
                        if(kickSocket.readyState === WebSocket.OPEN){ 
                            kickSocket.send(JSON.stringify({event:"pusher:ping",data:{}})); 
                        } else { 
                            clearInterval(ping); 
                        }
                    }, 12000);
                };
                
                kickSocket.onmessage = (event) => {
                    const msg = JSON.parse(event.data);
                    if(msg.event === "App\\Events\\ChatMessageEvent"){
                        const d = JSON.parse(msg.data);
                        const username = d.sender?.username || "";
                        const content = (d.content || "").trim();
                        handleChatMessage(username, content);
                    }
                };
                
                kickSocket.onerror = () => setStatus('err','Kick');
            } catch(e){ 
                console.error(e); 
                setStatus('err','Kick'); 
            }
        })();
    }
}

/* ========= Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ ========= */
(function(){
    const openBtn = document.getElementById('openHelp');
    const backdrop = document.getElementById('helpBackdrop');
    const modal = document.getElementById('helpModal');
    const closeBtn = document.getElementById('closeHelp');
    
    function open(){ 
        backdrop.style.display = 'block'; 
        modal.style.display = 'block'; 
    }
    function close(){ 
        backdrop.style.display = 'none'; 
        modal.style.display = 'none'; 
    }
    
    openBtn?.addEventListener('click', open);
    closeBtn?.addEventListener('click', close);
    backdrop?.addEventListener('click', close);
    document.addEventListener('keydown', (e) => { 
        if(e.key === 'Escape') close(); 
    });
})();

/* ========= Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ ========= */
document.addEventListener('keydown', (e) => {
    if(e.target.closest('.modal')) return;
    
    if(e.code === "Space"){ 
        e.preventDefault(); 
        toggleTimer(); 
    }
    else if(e.key === "n" || e.key === "N"){ 
        nextTurn(); 
    }
    else if(e.key === "h" || e.key === "H"){ 
        useHint(); 
    }
    else if(e.key === "s" || e.key === "S"){ 
        e.preventDefault();
        toggleStats(); 
    }
    else if(e.key === "k" || e.key === "K"){ 
        e.preventDefault();
        skipTurn(); 
    }
});

/* ========= Ø¨Ø¯Ø¡ Ø§Ù„ØµÙØ­Ø© ========= */
window.addEventListener('DOMContentLoaded', () => {
    // Ø«ÙŠÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø¯Ø§ÙƒÙ†
    document.documentElement.setAttribute('data-theme','dark');
    loadState();
    
    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    loadStats();
    
    // Ø¥Ø®ÙØ§Ø¡ Ø´Ø±ÙŠØ· Ø§Ù„Ø´Ø§Øª Ø¨Ø¹Ø¯ 10 Ø«ÙˆØ§Ù†ÙŠ
    setTimeout(() => {
        const chatLog = document.getElementById('chatLog');
        if (chatLog) chatLog.style.display = 'none';
    }, 10000);
});
</script>
</body>
</html>
