<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>🎮 لعبة الكلمات المبعثرة</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #111;
      color: #fff;
      font-family: 'Amiri', serif;
      text-align: center;
      padding: 20px;
    }
    h1 {
      color: #ff3333;
      margin-top: 10px;
    }
    .game-area {
      font-size: 24px;
      margin: 20px auto;
      background-color: #222;
      padding: 20px;
      border-radius: 15px;
      width: 400px;
      border: 2px solid #ff3333;
    }
    input, button {
      padding: 8px;
      font-size: 16px;
      margin: 5px;
      border-radius: 8px;
      border: none;
      font-family: 'Amiri', serif;
    }
    button {
      background-color: #ff3333;
      color: #fff;
      cursor: pointer;
    }
    .teams {
      display: flex;
      justify-content: space-between;
      margin: 20px auto;
      width: 90%;
      gap: 20px;
    }
    .team {
      width: 45%;
      background-color: #222;
      padding: 20px;
      border: 2px solid #ff3333;
      border-radius: 15px;
      text-align: center;
    }
    .team h3 {
      margin-bottom: 10px;
    }
    .players-list {
      background-color: #333;
      padding: 10px;
      border-radius: 8px;
      min-height: 50px;
      font-size: 20px;
    }
    .current-player {
      font-size: 20px;
      margin: 15px 0;
      color: #00ffcc;
    }
    .guess-result {
      font-size: 18px;
      margin-top: 10px;
    }
    .scoreboard {
      margin-top: 20px;
      font-size: 18px;
    }
    .answer-box {
      position: fixed;
      bottom: 20px;
      left: 20px;
      text-align: center;
      font-size: 20px;
      color: #fff;
      z-index: 100;
      background: none;
      border: none;
    }
    .winner-box {
      margin-top: 20px;
      padding: 15px;
      background-color: #008000;
      border: 2px solid #fff;
      border-radius: 10px;
      font-size: 20px;
      display: none;
    }
  </style>
</head>
<body>

  <h1>🎯 لعبة الكلمات المبعثرة</h1>

  <p style="background-color:#222; padding:15px; border-radius:10px; border:1px solid #ff3333; font-size:18px; margin:20px auto; width:80%;">
    🎯 <strong>شرح اللعبة:</strong><br>
    ستظهر كلمة مبعثرة يجب على اللاعبين إعادة ترتيبها بشكل صحيح.<br>
    عند الخطأ أو الإجابة الصحيحة، ينتقل الدور تلقائيًا للفريق الآخر.<br>
    أول فريق يصل 12 نقطة يفوز تلقائياً.
  </p>

  <div class="teams">
    <div class="team">
      <h3>🔵 الفريق الأزرق</h3>
      <input type="text" id="bluePlayerInput" placeholder="اسم اللاعب">
      <button onclick="addPlayer('blue')">➕ إضافة</button>
      <div id="bluePlayers" class="players-list"></div>
    </div>

    <div class="team">
      <h3>🔴 الفريق الأحمر</h3>
      <input type="text" id="redPlayerInput" placeholder="اسم اللاعب">
      <button onclick="addPlayer('red')">➕ إضافة</button>
      <div id="redPlayers" class="players-list"></div>
    </div>
  </div>

  <div class="game-area">
    <button onclick="startGame()">🎮 ابدأ اللعبة</button>
    <div id="currentPlayer" class="current-player">⬇️ اللاعب الحالي سيظهر هنا</div>
    <div id="scrambledWord">🔤 الكلمة هنا</div>
    <input type="text" id="guessInput" placeholder="اكتب الإجابة هنا">
    <button onclick="submitGuess()">✅ تأكيد</button>
    <button onclick="nextTurn()">⏭️ التالي</button>
    <div id="guessResult" class="guess-result"></div>

    <div class="scoreboard">
      🔵 الفريق الأزرق: <span id="blueScore">0</span> نقطة<br>
      🔴 الفريق الأحمر: <span id="redScore">0</span> نقطة
    </div>

    <div id="winnerBox" class="winner-box"></div>
  </div>

  <div class="answer-box">
    ⚠️ الإجابة: <span id="answerText">❓</span>
  </div>

  <script>
    const bluePlayers = [];
    const redPlayers = [];
    let turnIndex = 0;
    let currentTeam = 'blue';
    let answeringTeam = 'blue';
    let currentAnswer = "";
    let blueScore = 0;
    let redScore = 0;
    let gameEnded = false;

    const words = [
"إسراء","أحمد","أرز","بسمة","بسام","ببغاء","بصل","تسنيم","تامر","تين",
"ثريا","ثائر","ثعلب","ثمر","جميلة","جلال","جمل","جرجير","حلا","حازم",
"حصان","حمص","خديجة","خالد","خروف","خس","داني","دب","دوار الشمس","ذكيّة",
"ذئب","ذرة","رانيا","رامي","رنّة","رمان","زينب","زياد","زرافة","زيتون",
"سلمى","سعيد","سمكة","سنبلة","شهد","شاهين","شمبانزي","شمام","صفاء","صافي",
"صبّار","ضياء","ضرار","ضفدع","طيبة","طارق","طاووس","طماطم","ظريفة","ظافر",
"ظبي","ظفرة","علا","عادل","عصفور","عنب","غادة","غانم","غزال","غار",
"فادية","فادي","فأر","فراولة","قاسم","قرد","قرنفل","كريمة","كامل","كلب",
"كوسة","ليلى","لؤي","لاما","ليمون","ماريا","موسى","ماعز","ملفوف","نورة",
"نبيل","نمر","نعناع","هدى","هادي","هدهد","هيل","وداد","وسام","وطواط",
"ورد","يسرى","ياسر","يمامة","ياسمين","إبريق","باخرة","بلغاريا","تَل",
"تركي","ثوب","جيبوتي","خنجر","دار","دنمارك","رمح","رومانيا","زمرد","زامبيا",
"سيف","سوريا","شباك","شيكاغو","صلصال","صين","ضرس","ضباء","طاولة",
"طاجكستان","ظهران","علبة","عُمان","غطاء","غانا","فأس","فرنسا","قطر","كرسي",
"كوريا","لعبة","ليبيا","مصر","نافذة","نيجر","هاتف","هنغاريا","واشنطن",
"ينبوع","يونان","كمي","قمة رأس","زفير","قلعة","دوامة","كوبرا","الأفق",
"جالاكسي","مويه","حارس","طيف","قضمة صقيع","زيت","ثعبان","رعد","كراث",
"سماوي","صدى","لولبي","علاقة","مقلوبة","الكعبة","سحور","ثلاثة","جدار",
"كتاب","عطر","سماعة","ساعة","شراب","حبحب","تزاوج","قمر","عميق","طيارة",
"ايلون ماسك","ايفون","عنز","موسم الرياض","آيس تي","خزنة","مطبخ","كاسة",
"زجاج","قارورة","مفتاح","ارض","سحاب","المشتري","اليابان","كريم","ضوء",
"معمول","شمندر","دم","مطر","محمد عبده","سمبوسة","بندانة","سبونج بوب",
"الفجر","طيور","حب","تسالي كاتشب","هبد","قارة","فيل","مسجد","ذبانة",
"مخيسه","تراب","برج","حرب","بارد","مجنون","كوكايين","قطن","حلى","سوبيا",
"انا","فهاوة","قطة","تونة","قشطة","تاريخ","ياقوت","نار","أسد","كهف",
"صداع","أحمر","تمر","حدود","معطر","توصيلة","بلوفر","شاحن","شنب","منارة",
"تحكم","خوخ","جعفر","سماء","اسنان","بقالة","بناء","ترطيب","ورشة","جبن",
"مخدة","بط","مرقة","قميص","نجوم","مسلسل","واحد","زهور","أبيض","عاطفة",
"مقاضي","العيد","تويوتا","انتحار","ضرب","انقسام","ناعم","صابون","صبار",
"كرة قدم","جريش","انعكاس","طبقة الأوزون","وراثة","زكاة","قانون","معدة",
"عظام","تسليك","مشاة","سفينة","غرا","قناع","فندق","عروق","عش","كهرباء",
"استشوار","ترميم","شنطة","عامود","ريموت","فحم","غبار","جبال","نائم",
"القرآن","سناب شات","الاتحاد","مطار","دبوس","ايموجي","خاتم","عيون","جزر",
"حبتين","مبلل","حزين","فضائي","مهرج","شيطان","تصفيق","ميه ميه","بوكس",
"شفة","روج","لسان","ماسونية","رئتين","شايب","الهند","شرطة","سجود",
"حورية بحر","رضيع","مصاص دماء","ملاك","باليه","خياطة","قبعة","باندا",
"طاؤوس","فطر","قوس قزح","مغناطيس","سبحة","بخاخ","أشعة","لصقة","تيلسكوب",
"بكتيريا","اسفنجة","طحين","جرس","سحر","فراشة","بالون","ديسكو","تقويم",
"أسهم","جريدة","منظار","مرسام","قفل","نووي","توقف","فيزياء","شاذ","املاء",
"كرز","تاكو","قمبري","توست","سينما","عسل","نبيذ","بيسبول","قفز مظلي",
"ميدالية","فن","بركان","نافورة","خيمة","كرواتيا","ساعة رملية","فيزا",
"قنبلة","سلسلة","منشار","دخان","تابوت","سائل","تقطيع","فوازير","مجلس",
"ارهابي","فريق","مواجهه","شعبان","فالكونز","مهرجان","بطولة","لغة","تربية",
"ردة فعل","مرتبة","انتقام","اعلام","سالفة","ابرة","بكج","سمعة","آسيا",
"تيك توك","أمطار","ون بيس","مشجع","دقيقة","عرض","مدير","عمالقة","قتل",
"رحالة","طبيعة","تسويق","ادارة اعمال","ندم","مودم","الثلاثي المرح","اوسكار",
"هوليوود","تحليل","اندومي","تصعيد","جيران","ثقة","كود","سيرفر","فلوقات",
"الحرم","حلاق","باص","ادوار","حج","اخبار","نهاية","بداية","تنين","اسطورة",
"لمسة","عضلات","النرويج","الشفق","اخطبوط","ظلام","شطة","طحينة","فيش",
"ماما جابت بيبي","باب الحارة","توم جيري","مرسيدس","مخبز","بقدونس","بذور",
"نوح","معادلة","طواف","برج المملكة","بوليفارد","ستيك","تركيا","سويسرا",
"تنمر","بجاحه","غباء","بلاد","حيوان","نبات","اسم","جماد","حفرة","نيتفلكس",
"سالي","كولا","شاهي كرك","كابتشينو","V60","انقليزي","اعصار","سالم الدوسري",
"هجوم","صياد","زمن","اينيشتاين","المانيا","تفاحة","مكينة","بطارية","هايدي",
"سبيستون","جيل التسعينات","لكزس","سبتمبر","قناة","مباشر","متخلف","مختلف",
"محتوى","مساوي","ميكانيكا","برمجة","معلومات","خيالي","منيو","برتقال",
"كنغر","بلاعة","مجاري","قدوة","تهويشة","طيران","زرفة","فلسفة","استخارة",
"تختيم","بحيرة","تمساح","احلام","اماني","تخطي","دعوة","حلوه","هللة",
"تفجير","سر","ملعب","عشب","بخار","تسالي","ثلث","ثانية","جزء","قراند",
"اوبر","مصيدة","خطأ","دم","ذاكرة","رسيفر","مفك","قماش","سجادة","محكمة",
"شماغ","ثلاجة","مكيف","سرطان","مطافي","تويتش","ايموت","الرياض","مكة",
"فيفا","الصين","كيبورد","حقيبة","بنشري","مكتبة","سموذي","مباحث","فيلم",
"بخيل","كعب","مطب","محطة","ازرق","صيدلية","الخميس","رمضان","جاكوزي","قلم",
"طوب","انذار","كنترولر","نفق","فنيلة","مكياج","عقال","فورت","ببجي",
"دعاء","حركة","رياضة","حديد","قمار","مسافة","سلسلة","سنارة","فتح","ضيق",
"جدة","فلتر","لابتوب","ورقة","منشطات","طرق","هلال","احد","مساحة",  "استراتيجية","ميكانيكية","استثنائية","الاستحواذ","البيروقراطية","التشظي","الترميز","السرمدي",
  "الثريا","الانبثاق","التسويف","التدشين","الجاذبية","المتلازمة","الاحتواء","الشغف",
  "التقليدية","الجدلية","الطوباوية","الدوغمائية","اللامتناهي","الديالكتيك","الميتافيزيقا","الأسطوغرافيا",
  "المونولوج","الأرثوذكسية","الهيروغليفية","السريالية","الأبستمولوجيا","الأنتروبولوجيا","الباراسيكولوجي","الهولوجرام",
  "الديماغوجية","الطوبوغرافيا","التبادلية","الانتروبوسين","الفيزيوقراط","الباثولوجيا","الايكولوجيا","الأورثوبيديا"
];

  function shuffleWord(word) {
      let arr = word.split('');
      let shuffled;
      do {
        shuffled = arr.slice();
        for (let i = shuffled.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
        }
      } while (shuffled.join('') === word);
      return shuffled.join(' ');
    }

    function addPlayer(team) {
      const inputId = team === 'blue' ? "bluePlayerInput" : "redPlayerInput";
      const listId = team === 'blue' ? "bluePlayers" : "redPlayers";
      const name = document.getElementById(inputId).value.trim();
      if (name === "") return alert("❌ الرجاء كتابة اسم اللاعب");
      if (team === 'blue') bluePlayers.push(name);
      else redPlayers.push(name);
      document.getElementById(listId).innerHTML = (team === 'blue' ? bluePlayers : redPlayers)
        .map(player => `• ${player}`).join("<br>");
      document.getElementById(inputId).value = "";
    }

    function startGame() {
      turnIndex = 0;
      currentTeam = 'blue';
      answeringTeam = 'blue';
      blueScore = 0;
      redScore = 0;
      gameEnded = false;
      document.getElementById("blueScore").innerText = blueScore;
      document.getElementById("redScore").innerText = redScore;
      document.getElementById("winnerBox").style.display = "none";
      nextTurn();
    }

    function nextTurn() {
      if (gameEnded) return;

      if (bluePlayers.length === 0 || redPlayers.length === 0) {
        alert("❌ الرجاء إضافة لاعبين في كلا الفريقين أولاً.");
        return;
      }
      let player;
      if (currentTeam === 'blue') {
        player = bluePlayers[turnIndex % bluePlayers.length];
        answeringTeam = 'blue';
        currentTeam = 'red';
      } else {
        player = redPlayers[turnIndex % redPlayers.length];
        answeringTeam = 'red';
        currentTeam = 'blue';
        turnIndex++;
      }
      document.getElementById("currentPlayer").innerText = `🎮 الدور الآن: ${player}`;
      const randomWord = words[Math.floor(Math.random() * words.length)];
      currentAnswer = randomWord;
      document.getElementById("scrambledWord").innerText = shuffleWord(randomWord);
      document.getElementById("answerText").innerText = randomWord;
      document.getElementById("guessInput").value = "";
      document.getElementById("guessResult").innerText = "";
    }

    function submitGuess() {
      if (gameEnded) return;

      const guess = document.getElementById("guessInput").value.trim();
      if (guess === "") {
        alert("❌ الرجاء كتابة تخمين.");
        return;
      }
      if (guess === currentAnswer) {
        document.getElementById("guessResult").innerHTML = `✅ إجابة صحيحة!`;
        if (answeringTeam === 'red') redScore++;
        else blueScore++;
        document.getElementById("redScore").innerText = redScore;
        document.getElementById("blueScore").innerText = blueScore;

        if (blueScore >= 12) {
          document.getElementById("winnerBox").innerText = "🏆 الفريق الأزرق هو الفائز!";
          document.getElementById("winnerBox").style.display = "block";
          gameEnded = true;
        } else if (redScore >= 12) {
          document.getElementById("winnerBox").innerText = "🏆 الفريق الأحمر هو الفائز!";
          document.getElementById("winnerBox").style.display = "block";
          gameEnded = true;
        } else {
          nextTurn(); // ينتقل للدور التالي بعد الإجابة الصحيحة
        }
      } else {
        document.getElementById("guessResult").innerHTML = `❌ إجابة خاطئة!`;
        nextTurn(); // ينتقل للدور التالي بعد الخطأ
      }
    }
  </script>
</body>
</html>
