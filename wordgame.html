<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>🎯 لعبة الكلمات المبعثرة</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
 <script src="tmi.min.js"></script>
  <style>
    body {
      background: #111;
      color: #fff;
      font-family: 'Amiri', serif;
      text-align: center;
      padding: 20px;
    }
    h1 {
      color: #ff3333;
      margin-top: 10px;
    }
    .game-area {
      font-size: 28px;
      margin: 20px auto;
      background: #222;
      padding: 30px;
      border-radius: 15px;
      width: 90%;
      max-width: 1200px;
      border: 2px solid #ff3333;
    }
    input, button {
      padding: 12px;
      font-size: 20px;
      margin: 8px auto;
      border-radius: 8px;
      border: none;
      font-family: 'Amiri', serif;
    }
    input.player-input {
      width: 90%;
      box-sizing: border-box;
    }
    button {
      background: #ff3333;
      color: #fff;
      cursor: pointer;
    }
    .teams-container {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin: 20px auto;
      width: 90%;
      gap: 20px;
      flex-wrap: wrap;
    }
    .team {
      width: 20%;
      padding: 15px;
      border-radius: 15px;
      text-align: center;
    }
    .team-blue {
      background: rgba(0,0,255,0.1);
      border: 2px solid #0099ff;
    }
    .team-red {
      background: rgba(255,0,0,0.1);
      border: 2px solid #ff3333;
    }
    .players-list {
      background: #333;
      padding: 10px;
      border-radius: 8px;
      min-height: 50px;
      font-size: 18px;
      text-align: right;
    }
    .player-entry {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 2px 0;
    }
    .player-entry button {
      background: #900;
      font-size: 14px;
      padding: 2px 6px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .game-description {
      width: 50%;
      background: #222;
      border: 1px solid #555;
      border-radius: 10px;
      padding: 15px;
      font-size: 18px;
      line-height: 1.6;
    }
    .current-player {
      font-size: 26px;
      margin: 20px 0;
      color: #00ffcc;
    }
    .scrambled-word {
      font-size: 42px;
      margin: 20px 0;
      word-spacing: 10px;
    }
    .timer {
      font-size: 28px;
      color: #ffcc00;
      margin: 15px 0;
      font-weight: bold;
    }
    .guess-result {
      font-size: 22px;
      margin-top: 12px;
    }
    .scoreboard {
      margin-top: 25px;
      font-size: 22px;
    }
    .answer-box {
      position: fixed;
      bottom: 20px;
      left: 20px;
      text-align: center;
      font-size: 20px;
      color: #fff;
      z-index: 100;
    }
    .commands-highlight {
      color: #ff3333;
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }
  </style>
</head>
<body>

<h1>🎯 لعبة الكلمات المبعثرة</h1>

<div class="teams-container">
  <div class="team team-blue">
    <h3>🔵 الفريق الأزرق</h3>
    <input type="text" id="bluePlayerInput" class="player-input" placeholder="اسم اللاعب">
    <button onclick="addPlayer('blue')">➕ إضافة</button>
    <div id="bluePlayers" class="players-list"></div>
  </div>

  <div class="game-description">
    ✅ <strong>شرح اللعبة:</strong><br>
    ستظهر كلمة مبعثرة في وسط الشاشة.<br>
    على اللاعبين إعادة ترتيبها بشكل صحيح خلال 30 ثانية.<br>
    عند انتهاء الوقت أو بعد التخمين، يمكنك الضغط على زر "التالي" للانتقال للدور التالي.<br>
    أول فريق يصل إلى 15 نقطة يعتبر الفائز 🏆.<br>
    <span class="commands-highlight">
      📝 أوامر الشات:<br>
      🔵 !ازرق للانضمام للفريق الأزرق<br>
      🔴 !احمر للانضمام للفريق الأحمر
    </span>
  </div>

  <div class="team team-red">
    <h3>🔴 الفريق الأحمر</h3>
    <input type="text" id="redPlayerInput" class="player-input" placeholder="اسم اللاعب">
    <button onclick="addPlayer('red')">➕ إضافة</button>
    <div id="redPlayers" class="players-list"></div>
  </div>
</div>

<div class="game-area">
  <button id="startButton" onclick="startGame()">🎮 ابدأ اللعبة</button>
  <div id="currentPlayer" class="current-player">⬇️ اللاعب الحالي سيظهر هنا</div>
  <div id="scrambledWord" class="scrambled-word">🔤 الكلمة هنا</div>
  <div id="timer" class="timer"></div>
  <button id="startTimerButton" onclick="startTimer()">⏳ ابدأ المؤقت</button>
  <input type="text" id="guessInput" placeholder="اكتب الإجابة هنا">
  <button onclick="submitGuess()">✅ تأكيد</button>
  <div id="guessResult" class="guess-result"></div>
  <br>
  <button onclick="nextTurn()">⏭️ التالي</button>
  <div class="scoreboard">
    🔵 الفريق الأزرق: <span id="blueScore">0</span> نقطة<br>
    🔴 الفريق الأحمر: <span id="redScore">0</span> نقطة
  </div>
</div>

<div class="answer-box">
  ⚠️ الإجابة: <span id="answerText">❓</span>
  <br>
  <button onclick="toggleAnswer()">👁️ إخفاء/إظهار الإجابة</button>
</div>

<div style="margin-top:20px;">
  <select id="platformSelect" style="padding:10px;font-size:18px;">
    <option value="twitch">Twitch</option>
    <option value="kick">Kick</option>
  </select>
  <input type="text" id="channelInput" placeholder="🎮 اكتب اسم القناة" style="padding:10px;font-size:18px;">
  <button onclick="connectChat()" style="padding:10px;font-size:18px;background:#28a745;color:#fff;border:none;border-radius:6px;cursor:pointer;">
    ✅ تسجيل الدخول
  </button>
  <div id="chatStatus" style="margin-top:10px;font-size:16px;color:#0f0;"></div>
</div>

<script>
// مصفوفات الفرق
const bluePlayers = [];
const redPlayers = [];

// متغيرات اللعبة
let turnIndex = 0;
let currentTeam = 'blue';
let answeringTeam = 'blue';
let currentAnswer = "";
let blueScore = 0;
let redScore = 0;
let timerInterval;
let twitchClient;
let currentPlayerName = "";
let timerRunning = false;
const usedWords = [];

 const words = [
  // الكلمات الأصلية بعد حذف المكرر والمنونة
  "أمل", "حياة", "نور", "سعادة", "شمس", "قمر", "سماء", "نجمة", "بحر", "نهر",
  "جبل", "وردة", "زهرة", "شجرة", "غابة", "طيور", "أسد", "نمر", "فهد", "ذئب",
  "دب", "حصان", "حمار", "بقرة", "غزال", "سمكة", "حوت", "دلفين", "نحلة", "فراشة",
  "نملة", "عصفور", "ببغاء", "صقر", "بومة", "ديك", "دجاجة", "بط", "وزة", "بطة",
  "كلب", "قطة", "جمل", "قرش", "تمساح", "سلحفاة", "ثعبان", "عقرب", "ضفدع", "قرد",
  "كنغر", "طاووس", "نعامة", "حمامة", "غراب", "بلبل", "يمامة", "دراج", "دبور", "جرادة",
  "صرصور", "يراعة", "خفاش", "أرنب", "حرباء", "غرير", "لاما", "موظ", "ظبي", "ضبع",
  "تنين", "أسطورة", "ساحر", "قلعة", "عرش", "تاج", "ملك", "ملكة", "أمير", "أميرة",
  "وزير", "جيش", "سيف", "درع", "رمح", "قوس", "سهم", "حربة", "خوذة", "فرس",
  "نسر", "شعلة", "لهب", "جمر", "ريح", "عاصفة", "ثلج", "برد", "صقيع", "صحراء",
  "واحة", "رمل", "طين", "بركان", "زلزال", "مطر", "ندى", "غيم", "عشب", "أرض",
  "تربة", "حديقة", "مزرعة", "بستان", "دوحة", "مدينة", "قرية", "بلدة", "سوق", "مكتبة",
  "مدرسة", "جامعة", "مسجد", "كنيسة", "معبد", "متحف", "قصر", "مسرح", "مستشفى", "مطعم",
  "مقهى", "فندق", "مطار", "ميناء", "محطة", "قطار", "حافلة", "سيارة", "دراجة", "سفينة",
  "طائرة", "صاروخ", "قارب", "غواصة", "مروحية", "مصباح", "شمعة", "بطارية", "هاتف", "حاسوب",
  "لوحة", "ساعة", "كتاب", "دفتر", "قلم", "فرشاة", "ممحاة", "مسطرة", "مقص", "مرآة",
  "كرسي", "طاولة", "سرير", "خزانة", "باب", "نافذة", "ستارة", "سجادة", "وسادة", "بطانية",
  "حقيبة", "صندوق", "درج", "رف", "طبق", "كوب", "ملعقة", "سكين", "شوكة", "قدر",
  "مقلاة", "غلاية", "زجاجة", "جرة", "وعاء", "مصفاة", "مغسلة", "ثلاجة", "فرن", "مكيف",
  "مدفأة", "مروحة", "غسالة", "مجفف", "مكنسة", "ممسحة", "سلة", "علبة", "مغلف", "مطرقة",
  "مسمار", "مفتاح", "كماشة", "منشار", "مبرد", "مثقاب", "حبل", "سلسلة", "قفل", "ميزان",
  "ميزاب", "خرطوم", "برميل", "دلو", "سطل", "اسفنجة", "صابون", "معجون", "مرطب", "مرهم",
  "دواء", "عطر", "بخور", "منشفة", "شرشف", "حجاب", "قبعة", "قميص", "بنطال", "تنورة",
  "فستان", "جاكيت", "معطف", "حذاء", "جورب", "قفاز", "نظارة", "حزام", "محفظة",
  "خاتم", "قلادة", "حلق", "زينة", "مظلة", "شرفة", "سطح", "سرداب", "قبو",
  "دهليز", "ردهة", "صالة", "مطبخ", "ممر", "بوابة", "سور", "سياج", "رصيف",
  "جسر", "نفق", "ميدان", "شارع", "زقاق", "درب", "طريق", "مسار", "رحلة", "سفرة",
  "جولة", "نزهة", "مغامرة", "اكتشاف", "بحث", "لقاء", "موعد", "اجتماع", "محادثة", "نقاش",
  "اتفاق", "عقد", "صفقة", "تجارة", "بيع", "شراء", "تبادل", "هدية", "تذكار", "تحفة",
  "صورة", "رسم", "تمثال", "طابع", "ختم", "ظرف", "وثيقة", "بطاقة", "جواز",
  "ترخيص", "فاتورة", "إيصال", "سجل", "مفكرة", "مذكرة", "تقرير", "قصة", "رواية",
  "مجلة", "جريدة", "إعلان", "دعاية", "شعار", "علامة", "رمز", "خريطة", "جدول", "تصميم",
  "خطة", "برنامج", "طريقة", "نمط", "شكل", "بنية", "هيكل", "عمارة", "زخرفة", "نقش",
  "تطريز", "صباغة", "ترميم", "صيانة", "تصوير", "طباعة", "نسخ", "ترجمة", "تحرير", "إعداد",
  "إنتاج", "نشر", "إذاعة", "تسجيل", "عرض", "مشاركة", "توزيع", "تحميل", "تشغيل", "إيقاف",
  "بدء", "تحديث", "تطوير", "إصلاح", "تغيير", "حذف", "إضافة", "لصق", "حفظ",
  "رفع", "تنزيل", "إرسال", "استقبال", "ضبط", "تهيئة", "تفعيل", "إلغاء", "حماية",
  "تشفير", "برمجة", "اختبار", "توثيق", "دعم", "متابعة", "إدارة", "قيادة",
  "تنظيم", "توجيه", "مراقبة", "تقييم", "تحليل", "ابتكار", "استكشاف", "تعليم", "تدريب", "تدريس",
  "شرح", "توضيح", "إيضاح", "تحسين", "تعديل", "تجربة", "محاولة", "إنجاز", "نجاح", "تميز",
  "شغف", "إلهام", "إبداع", "خيال", "فكر", "وعي", "إدراك", "حكمة", "معرفة", "خبرة",
  "موهبة", "مهارة", "قدرة", "كفاءة", "تخصص", "اهتمام", "فضول", "رغبة", "عزيمة",
  "إرادة", "طموح", "تفاؤل", "إيمان", "يقين", "ثقة", "إخلاص", "محبة",
  "مودة", "رحمة", "عطف", "حنان", "رعاية", "تعاون", "مساعدة", "تضامن", "مواساة",
  "صداقة", "أخوة", "قرابة", "جار", "ضيف", "زميل", "شريك", "رفيق", "معارف", "ناس",
  "شخص", "رجل", "امرأة", "طفل", "شاب", "فتاة", "كهل", "شيخ", "مسن", "عجوز",
  "رضيع", "مراهق", "يتيم", "أرمل", "أعزب", "متزوج", "مطلق", "حبيب", "خطيب", "صديق",
  "عدو", "خصم", "منافس", "تابع", "مستقل", "محايد", "زعيم", "قائد", "رئيس",
  "وكيل", "نائب", "سفير", "والي", "حاكم", "قاضي", "محامي", "شرطي", "جندي",
  "طيار", "بحار", "سائق", "عامل", "حارس", "مزارع", "صياد", "صانع", "بائع", "تاجر",
  "نجار", "حداد", "خياط", "حلاق", "مصور", "مخرج", "ممثل", "مغني",
  "شاعر", "كاتب", "مؤلف", "ناقد", "موسيقي", "فنان", "أديب", "عالم", "باحث", "مخترع",
  "مبتكر", "مكتشف", "مدير", "مسؤول", "مدرب", "معلم", "مرشد", "واعظ", "إمام",
  "داعية", "زاهد", "حكيم", "فقيه", "مؤرخ", "صحفي", "مذيع", "مراسل", "محرر",
  "مترجم", "مدقق", "ناشر", "موزع", "مسوق", "مطور", "مبرمج", "مصمم", "منتج", "منشد",
  "مؤذن", "حافظ", "قارئ", "ناسخ", "خطاط", "زخرف", "منقوش", "كهربائي",
  "سباك", "بناء", "راعي", "مربي", "طباخ", "جزار", "خباز",
  "ساعي", "مستشار", "سلطان", "خليفة", "أستاذ", "محاسب",
  "طبيب", "صيدلي", "ممرض", "جراح", "معالج", "خبير", "فني", "مهندس", "مفكر", "ناظر",
  "مفتش", "مراقب", "مشغل", "ملاحظ", "نادل", "خادم", "حمال", "بواب", "ناطور", "مشرف",

  // الكلمات المضافة الجديدة
  "ابتسامة", "إصرار", "إنجاز", "إيثار", "بساطة", "بهجة", "تحدي", "تفاني", "تماسك", "ثبات",
  "جمال", "جود", "حب", "حلم", "خجل", "دعم", "ذكاء", "روح", "زهد", "سخاء",
  "سلام", "شجاعة", "صبر", "ضحك", "طمأنينة", "عطاء", "فرح", "فخر", "قوة", "كرم",
  "لطف", "مرح", "نقاء", "هدوء", "وفاء", "يسر", "أمان", "إبداع", "براءة", "تآلف",
  "تسامح", "تواضع", "جاذبية", "حكمة", "خيال", "دفء", "رقة", "شهامة", "صفاء", "عزيمة",
  "عفوية", "غرور", "فطرة", "قناعة", "لباقة", "مروءة", "نبل", "هيبة", "وداعة", "يأس",
  "إتقان", "بشاشة", "تألق", "تعاطف", "جد", "حزم", "خبرة", "دقة", "رزانة", "سعادة",
  "شموخ", "صدق", "طموح", "عفة", "غموض", "فطنة", "قدر", "كياسة", "مثابرة", "نشاط",
  "همة", "ألفة", "بشر", "تكافل", "ثقة", "حياة", "خوف", "ذوق", "رحيل", "زهو",
  "شوق", "صمود", "عشق", "فروسية", "قدرة", "كلمة", "مودة", "نقاش", "همس", "وجد",
  "إحسان", "بصيرة", "تميز", "حكمة", "دلال", "راحة", "سحر", "شغف", "ضياء", "عبرة",
  "فن", "قيمة", "لغة", "مهارة", "نور", "هوية", "ابتكار", "بريق", "تحمل", "تعلق",
  "جلال", "حنين", "دعابة", "رومانسية", "سمو", "شعر", "صخب", "عظمة", "فلسفة", "قبس",
  "لمسة", "مزاج", "نغم", "هبة", "إرث", "بسالة", "تأمل", "جرأة", "حضور", "خبر",
  "دين", "ريادة", "سكون", "شراكة", "صديق", "عطش", "فكر", "قدوة", "لقاء", "مبدأ",
  "نضج", "هيام", "إشراق", "بزوغ", "تحقيق", "تضحية", "جذل", "حكاية", "دراية", "رغبة",
  "سرد", "شكر", "صدى", "عز", "فهم", "قلب", "مقصد", "نهضة", "وجدان", "إلهام",
  "بزوغ", "تناغم", "حوار", "ذكاء", "رواية", "سعادة", "شعر", "صوت", "عالم", "فنون",
  "قصة", "مكتب", "نهاية", "هندسة", "ابتكار", "بحر", "تاريخ", "حضارة", "دواء", "رسم",
  "سفر", "شمس", "صحة", "علم", "فلك", "قمر", "موسيقى", "نجوم", "هواء", "ياقوت"
];


// خلط الحروف
function shuffleWord(word) {
  let arr = word.split('');
  let shuffled;
  do {
    shuffled = arr.slice();
    for (let i = shuffled.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
  } while (shuffled.join('') === word);
  return shuffled.join(' ');
}

// تحديث قائمة اللاعبين
function updatePlayerList(team) {
  const listId = team === 'blue' ? "bluePlayers" : "redPlayers";
  const players = team === 'blue' ? bluePlayers : redPlayers;
  document.getElementById(listId).innerHTML = players
    .map((player, i) => `
      <div class="player-entry">
        <span>• ${player}</span>
        <button onclick="removePlayer('${team}', ${i})">🗑️</button>
      </div>
    `).join("");
}

// إضافة لاعب
function addPlayer(team) {
  const inputId = team === 'blue' ? "bluePlayerInput" : "redPlayerInput";
  const name = document.getElementById(inputId).value.trim();
  if (name === "") {
    alert("❌ الرجاء كتابة اسم اللاعب");
    return;
  }
  if (team === 'blue') {
    bluePlayers.push(name);
  } else {
    redPlayers.push(name);
  }
  updatePlayerList(team);
  document.getElementById(inputId).value = "";
}

// إزالة لاعب
function removePlayer(team, index) {
  if (team === 'blue') {
    bluePlayers.splice(index, 1);
  } else {
    redPlayers.splice(index, 1);
  }
  updatePlayerList(team);
}

// بدء اللعبة
function startGame() {
  document.getElementById("startButton").style.display = "none";
  nextTurn();
}

// بدء المؤقت
function startTimer() {
  let timeLeft = 30;
  timerRunning = true;
  document.getElementById("timer").innerText = `⏳ الوقت المتبقي: ${timeLeft} ثانية`;
  clearInterval(timerInterval);
  timerInterval = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").innerText = `⏳ الوقت المتبقي: ${timeLeft} ثانية`;
    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      document.getElementById("timer").innerText = "⏳ انتهى الوقت!";
      timerRunning = false;
    }
  }, 1000);
}

// جولة جديدة
function nextTurn() {
  clearInterval(timerInterval);
  document.getElementById("timer").innerText = "";
  if (bluePlayers.length === 0 || redPlayers.length === 0) {
    alert("❌ الرجاء إضافة لاعبين في كلا الفريقين.");
    return;
  }
  let player;
  if (currentTeam === 'blue') {
    player = bluePlayers[turnIndex % bluePlayers.length];
    answeringTeam = 'blue';
    currentTeam = 'red';
  } else {
    player = redPlayers[turnIndex % redPlayers.length];
    answeringTeam = 'red';
    currentTeam = 'blue';
    turnIndex++;
  }
  currentPlayerName = player;
  document.getElementById("currentPlayer").innerText = `🎮 الدور الآن: ${player}`;
  let availableWords = words.filter(w => !usedWords.includes(w));
  if (availableWords.length === 0) {
    alert("✅ تم استخدام جميع الكلمات! سيتم إعادة التهيئة.");
    usedWords.length = 0;
    availableWords = words.slice();
  }
  let randomWord = availableWords[Math.floor(Math.random() * availableWords.length)];
  usedWords.push(randomWord);
  currentAnswer = randomWord;
  document.getElementById("scrambledWord").innerText = shuffleWord(randomWord);
  document.getElementById("answerText").innerText = randomWord;
  document.getElementById("guessInput").value = "";
  document.getElementById("guessResult").innerText = "";
}

// إخفاء/إظهار الإجابة
function toggleAnswer() {
  const el = document.getElementById("answerText");
  if (el.style.visibility === "hidden") {
    el.style.visibility = "visible";
  } else {
    el.style.visibility = "hidden";
  }
}

// الاتصال بالشات
function connectChat() {
  const platform = document.getElementById("platformSelect").value;
  const channel = document.getElementById("channelInput").value.trim();
  if (platform === "twitch") {
    twitchClient = new tmi.Client({
      channels: [channel]
    });
    twitchClient.connect();
    twitchClient.on('message', (channel, tags, message, self) => {
      const username = tags['display-name'];
      const content = message.trim();
      if (content === "!ازرق") {
        if (!bluePlayers.includes(username)) {
          bluePlayers.push(username);
          updatePlayerList("blue");
        }
      } else if (content === "!احمر") {
        if (!redPlayers.includes(username)) {
          redPlayers.push(username);
          updatePlayerList("red");
        }
      } else if (timerRunning && content === currentAnswer && username === currentPlayerName) {
        document.getElementById("guessResult").innerHTML = `✅ ${username} أجاب بشكل صحيح!`;
        if (answeringTeam === 'red') {
          redScore++;
          document.getElementById("redScore").innerText = redScore;
          if (redScore >= 15) {
            alert("🏆 الفريق الأحمر فاز!");
          }
        } else {
          blueScore++;
          document.getElementById("blueScore").innerText = blueScore;
          if (blueScore >= 15) {
            alert("🏆 الفريق الأزرق فاز!");
          }
        }
      }
    });
    document.getElementById("chatStatus").innerText = "✅ تم الاتصال بـ Twitch!";
  } else if (platform === "kick") {
    (async () => {
      try {
        let res = await fetch(`https://kick.com/api/v2/channels/${channel}`);
        let data = await res.json();
        let roomId = data.chatroom.id;
        let socket = new WebSocket("wss://ws-us2.pusher.com/app/32cbd69e4b950bf97679?protocol=7&client=js&version=8.4.0-rc2&flash=false");
        socket.onopen = () => {
          socket.send(JSON.stringify({
            event: "pusher:subscribe",
            data: {
              auth: "",
              channel: `chatrooms.${roomId}.v2`
            }
          }));
          setInterval(() => {
            if (socket.readyState === WebSocket.OPEN) {
              socket.send(JSON.stringify({
                event: "pusher:ping",
                data: {}
              }));
            }
          }, 12000);
        };
        socket.onmessage = (event) => {
          let msg = JSON.parse(event.data);
          if (msg.event === "App\\Events\\ChatMessageEvent") {
            let d = JSON.parse(msg.data);
            let username = d.sender.username;
            let content = d.content.trim();
            if (content === "!ازرق") {
              if (!bluePlayers.includes(username)) {
                bluePlayers.push(username);
                updatePlayerList("blue");
              }
            } else if (content === "!احمر") {
              if (!redPlayers.includes(username)) {
                redPlayers.push(username);
                updatePlayerList("red");
              }
            } else if (timerRunning && content === currentAnswer && username === currentPlayerName) {
              document.getElementById("guessResult").innerHTML = `✅ ${username} أجاب بشكل صحيح!`;
              if (answeringTeam === 'red') {
                redScore++;
                document.getElementById("redScore").innerText = redScore;
                if (redScore >= 15) {
                  alert("🏆 الفريق الأحمر فاز!");
                }
              } else {
                blueScore++;
                document.getElementById("blueScore").innerText = blueScore;
                if (blueScore >= 15) {
                  alert("🏆 الفريق الأزرق فاز!");
                }
              }
            }
          }
        };
        document.getElementById("chatStatus").innerText = "✅ تم الاتصال بـ Kick!";
      } catch (error) {
        console.error("Kick connection error:", error);
        document.getElementById("chatStatus").innerText = "❌ فشل الاتصال بـ Kick!";
      }
    })();
  }
}
</script>
</body>
</html>
