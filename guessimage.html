<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ğŸ–¼ï¸ Ù„Ø¹Ø¨Ø© Ø§ÙƒØ´Ù Ø§Ù„ØµÙˆØ±Ø©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #111;
      color: #fff;
      font-family: 'Amiri', serif;
      text-align: center;
      padding: 20px;
    }
    h1 {
      color: #ff3333;
      margin-top: 10px;
    }
    .teams-container {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin: 20px auto;
      width: 90%;
      gap: 20px;
      flex-wrap: wrap;
    }
    .team {
      width: 20%;
      padding: 15px;
      border-radius: 15px;
      text-align: center;
    }
    .team-blue {
      background-color: rgba(0,0,255,0.1);
      border: 2px solid #0099ff;
    }
    .team-red {
      background-color: rgba(255,0,0,0.1);
      border: 2px solid #ff3333;
    }
    .players-list {
      background-color: #333;
      padding: 10px;
      border-radius: 8px;
      min-height: 50px;
      font-size: 18px;
      text-align: right;
    }
    .player-entry {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 2px 0;
    }
    .player-entry button {
      background: #900;
      font-size: 14px;
      padding: 2px 6px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .game-description {
      width: 50%;
      background-color: #222;
      border: 1px solid #555;
      border-radius: 10px;
      padding: 15px;
      font-size: 18px;
      line-height: 1.6;
    }
    .game-area {
      font-size: 24px;
      margin: 20px auto;
      background-color: #222;
      padding: 20px;
      border-radius: 15px;
      width: 90%;
      max-width: 1000px;
      border: 2px solid #ff3333;
      position: relative;
    }
    .image-container {
      position: relative;
      width: 100%;
      padding-top: 66.66%;
      margin: 10px 0;
      background: #000;
      border: 2px solid #444;
    }
    .image-container img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .grid {
      position: absolute;
      top: 0;
      left: 0;
      display: grid;
      width: 100%;
      height: 100%;
      grid-template-columns: repeat(6, 1fr);
      grid-template-rows: repeat(4, 1fr);
    }
    .cell {
      background-color: #222;
      color: #fff;
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }
    .cell.revealed {
      background-color: transparent;
      color: transparent;
      cursor: default;
    }
    input, button {
      padding: 10px;
      font-size: 18px;
      margin: 5px;
      border-radius: 8px;
      border: none;
      font-family: 'Amiri', serif;
    }
    input.player-input {
      width: 100%;
      box-sizing: border-box;
    }
    button {
      background-color: #ff3333;
      color: #fff;
      cursor: pointer;
    }
    .current-player {
      font-size: 22px;
      margin: 10px 0;
      color: #00ffcc;
    }
    .errors-list {
      margin-top: 10px;
      background-color: #333;
      padding: 10px;
      border-radius: 8px;
      min-height: 40px;
      text-align: right;
    }
    .scoreboard {
      margin-top: 15px;
      font-size: 20px;
    }
    .answer-box {
      position: fixed;
      bottom: 20px;
      left: 20px;
      text-align: center;
      font-size: 20px;
      color: #fff;
      z-index: 100;
    }
  </style>
</head>
<body>

<h1>ğŸ–¼ï¸ Ù„Ø¹Ø¨Ø© Ø§ÙƒØ´Ù Ø§Ù„ØµÙˆØ±Ø©</h1>

<div class="teams-container">
  <div class="team team-blue">
    <h3>ğŸ”µ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚</h3>
    <input type="text" id="bluePlayerInput" class="player-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨">
    <button onclick="addPlayer('blue')">â• Ø¥Ø¶Ø§ÙØ©</button>
    <div id="bluePlayers" class="players-list"></div>
  </div>

  <div class="game-description">
    âœ… <strong>Ø´Ø±Ø­ Ø§Ù„Ù„Ø¹Ø¨Ø©:</strong><br>
    Ø³ØªØ¸Ù‡Ø± ØµÙˆØ±Ø© Ù…Ù‚Ø³Ù…Ø© Ø¥Ù„Ù‰ Ù…Ø±Ø¨Ø¹Ø§Øª.<br>
    Ø§Ù„Ù„Ø§Ø¹Ø¨ ÙŠØ®ØªØ§Ø± Ø±Ù‚Ù… Ù„ÙØªØ­ Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø«Ù… ÙŠÙƒØªØ¨ Ø§Ù„ØªØ®Ù…ÙŠÙ†.<br>
    Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©ØŒ ØªØ­Ø³Ø¨ Ù†Ù‚Ø§Ø· Ø¨Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ø¨Ø§Ù‚ÙŠØ©.<br>
    Ø£ÙˆÙ„ ÙØ±ÙŠÙ‚ ÙŠØµÙ„ Ø¥Ù„Ù‰ 75 Ù†Ù‚Ø·Ø© ÙŠÙÙˆØ² ğŸ†.
  </div>

  <div class="team team-red">
    <h3>ğŸ”´ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±</h3>
    <input type="text" id="redPlayerInput" class="player-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨">
    <button onclick="addPlayer('red')">â• Ø¥Ø¶Ø§ÙØ©</button>
    <div id="redPlayers" class="players-list"></div>
  </div>
</div>

<div class="game-area">
  <button id="startButton" onclick="startGame()">ğŸ® Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
  <div id="currentPlayer" class="current-player">â¬‡ï¸ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§</div>

  <div class="image-container">
    <img id="gameImage" src="https://i.postimg.cc/kXtCZXLX/F3-HFd-HW0-AEa1g7.jpg" alt="ØµÙˆØ±Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©">
    <div class="grid" id="grid"></div>
  </div>

  <input type="text" id="guessInput" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ØªØ®Ù…ÙŠÙ† Ù‡Ù†Ø§">
  <button onclick="submitGuess()">âœ… ØªØ£ÙƒÙŠØ¯</button>
  <button onclick="nextTurn()">â­ï¸ Ø§Ù„ØªØ§Ù„ÙŠ</button>
  <button id="nextImageButton" onclick="loadRandomImage()" style="display:none;">ğŸ–¼ï¸ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©</button>

  <div id="guessResult" class="errors-list"></div>

  <div class="scoreboard">
    ğŸ”µ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚: <span id="blueScore">0</span> Ù†Ù‚Ø·Ø©<br>
    ğŸ”´ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±: <span id="redScore">0</span> Ù†Ù‚Ø·Ø©
  </div>
</div>

<div class="answer-box">
  âš ï¸ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©: <span id="answerText">â“</span>
</div>

<script>
 const images = [
      { url: "https://i.postimg.cc/kXtCZXLX/F3-HFd-HW0-AEa1g7.jpg", answer: "Ø±Ø§ÙŠØ¯ Ù…Ø´ÙˆØ§Ø­" },
      { url: "https://i.postimg.cc/rsty2vqv/hq720.jpg", answer: "Ø´ÙˆÙ†Ù‚ Ø¨ÙˆÙ†Ù‚" },
      { url: "https://i.postimg.cc/ydhxDMMc/Gb-TRa-Ng-Wg-AAd-ma.jpg", answer: "Ø¨Ù†Ø¯Ø±ÙŠØªØ§" },
      { url: "https://i.postimg.cc/3J1XJCcf/Uf-JSd-QMW-400x400.jpg", answer: "ÙƒÙˆÙ†Ø§Ù†" },
      { url: "https://i.postimg.cc/G2zDhbM8/AAAABdf-Go9-D-Dve-XMM8-KK8-Kspcy-Jfgdsf-Uu-Nz4r-Fn-SVZ24-Gtq1g-BPI-v-UGRBn3q-SZc0-VQo-Jab-PCEctz-Mcp-ULKkw-zq5-Vs-ZFfv-UI.jpg", answer: "Ø³Ø¨Ø§ÙŠØ¯Ø±Ù…Ø§Ù†" },
      { url: "https://i.postimg.cc/SQf4RJ7t/1831a0d7cfb3101098b4b986d1e43d07.jpg", answer: "ÙŠØ§Ø³Ø± Ù…Ø®" },
      { url: "https://i.postimg.cc/W34GZDq6/4e381384cff59a012179eba0df30a717.jpg", answer: "ÙÙŠØµÙ„ ÙŠØ¬ÙŠ" },
      { url: "https://i.postimg.cc/hjJsXCY1/Minecraft-2024.jpg", answer: "Ù…Ø§ÙŠÙ† ÙƒØ±Ø§ÙØª" },
      { url: "https://i.postimg.cc/W4cTWKGh/image.jpg", answer: "Ù‡ÙŠØ±Ùˆ Ø¨Ø±Ø§ÙŠÙ†" },
      { url: "https://i.postimg.cc/JnG8GLmY/image.jpg", answer: "Ø¨Ø±Ø¬ Ø§Ù„Ù…Ù…Ù„ÙƒØ©" },
      { url: "https://i.postimg.cc/8z5Z8PbY/259f0650-094e-11eb-8bfb-60e78dcd1af0.jpg", answer: "ÙÙˆÙ„ Ù‚Ø§ÙŠØ²" },
      { url: "https://i.postimg.cc/HWFMWWHK/intense-and-fearless-leon-s-kennedy-in-action-1wmdmawmnhjdpy5v-1024x575.jpg", answer: "Ù„ÙŠÙˆÙ† ÙƒÙŠÙ†ÙŠØ¯ÙŠ" },
      { url: "https://i.postimg.cc/434Pv4YP/Zx-PLg-7-N-400x400.jpg", answer: "ÙƒØ±Ø§Ø´" },
      { url: "https://i.postimg.cc/yx63tWzp/on-a-perfect-blue-sky.jpg", answer: "Ø§Ù„Ù‚Ø¯Ø³" }
    ];

let remainingImages = [...images];

const bluePlayers = [];
const redPlayers = [];
let turnIndex = 0;
let currentTeam = 'blue';
let answeringTeam = 'blue';
let currentAnswer = images[0].answer;
let blueScore = 0;
let redScore = 0;
let timerInterval = null;

function createGrid() {
  const grid = document.getElementById("grid");
  grid.innerHTML = "";
  for (let i = 0; i < 24; i++) {
    const cell = document.createElement("div");
    cell.className = "cell";
    cell.textContent = i + 1;
    cell.onclick = () => {
      cell.classList.add("revealed");
      cell.onclick = null;
      startTimer();
    };
    grid.appendChild(cell);
  }
}

function addPlayer(team) {
  const inputId = team === 'blue' ? "bluePlayerInput" : "redPlayerInput";
  const name = document.getElementById(inputId).value.trim();
  if (name === "") return alert("âŒ Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨");
  if (team === 'blue') bluePlayers.push(name);
  else redPlayers.push(name);
  updatePlayerList(team);
  document.getElementById(inputId).value = "";
}

function updatePlayerList(team) {
  const listId = team === 'blue' ? "bluePlayers" : "redPlayers";
  const players = team === 'blue' ? bluePlayers : redPlayers;
  document.getElementById(listId).innerHTML = players
    .map((player, i) => `
      <div class="player-entry">
        <span>â€¢ ${player}</span>
        <button onclick="removePlayer('${team}', ${i})">ğŸ—‘ï¸</button>
      </div>
    `).join("");
}

function removePlayer(team, index) {
  if (team === 'blue') bluePlayers.splice(index, 1);
  else redPlayers.splice(index, 1);
  updatePlayerList(team);
}

function startGame() {
  document.getElementById("startButton").style.display = "none";
  document.getElementById("answerText").innerText = currentAnswer;
  nextTurn();
}

function loadRandomImage() {
  if (remainingImages.length === 0) {
    remainingImages = [...images];
  }
  const index = Math.floor(Math.random() * remainingImages.length);
  const selectedImage = remainingImages[index];
  remainingImages.splice(index, 1);

  document.getElementById("gameImage").src = selectedImage.url;
  currentAnswer = selectedImage.answer;
  document.getElementById("answerText").innerText = currentAnswer;
  document.getElementById("nextImageButton").style.display = "none";
  createGrid();
  document.getElementById("guessResult").innerText = "";
}

function nextTurn() {
  clearTimer();
  if (bluePlayers.length === 0 || redPlayers.length === 0) {
    alert("âŒ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙÙŠ ÙƒÙ„Ø§ Ø§Ù„ÙØ±ÙŠÙ‚ÙŠÙ† Ø£ÙˆÙ„Ø§Ù‹.");
    return;
  }
  let player;
  if (currentTeam === 'blue') {
    player = bluePlayers[turnIndex % bluePlayers.length];
    answeringTeam = 'blue';
    currentTeam = 'red';
  } else {
    player = redPlayers[turnIndex % redPlayers.length];
    answeringTeam = 'red';
    currentTeam = 'blue';
    turnIndex++;
  }
  document.getElementById("currentPlayer").innerText = `ğŸ® Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø¢Ù†: ${player}`;
  document.getElementById("answerText").innerText = currentAnswer;
  document.getElementById("guessInput").value = "";
  document.getElementById("guessResult").innerText = "";
}

function submitGuess() {
  const guess = document.getElementById("guessInput").value.trim();
  if (guess === "") {
    alert("âŒ Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© ØªØ®Ù…ÙŠÙ†.");
    return;
  }
  const resultDiv = document.getElementById("guessResult");
  if (guess === currentAnswer) {
    resultDiv.innerHTML += `âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!<br>`;
    clearTimer();
    const remainingCells = Array.from(document.querySelectorAll(".cell")).filter(c => !c.classList.contains("revealed")).length;
    document.querySelectorAll(".cell").forEach(cell => {
      cell.classList.add("revealed");
    });
    document.getElementById("nextImageButton").style.display = "inline-block";
    if (answeringTeam === 'red') {
      redScore += remainingCells;
      document.getElementById("redScore").innerText = redScore;
      if (redScore >= 75) {
        alert("ğŸ† Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø± ÙØ§Ø²!");
      }
    } else {
      blueScore += remainingCells;
      document.getElementById("blueScore").innerText = blueScore;
      if (blueScore >= 75) {
        alert("ğŸ† Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚ ÙØ§Ø²!");
      }
    }
  } else {
    resultDiv.innerHTML += `âŒ Ø®Ø·Ø£: ${guess}<br>`;
  }
  document.getElementById("guessInput").value = "";
}

function startTimer() {
  clearTimer();
  let timeLeft = 30;
  document.getElementById("currentPlayer").innerText += ` | â³ ${timeLeft} Ø«Ø§Ù†ÙŠØ©`;
  timerInterval = setInterval(() => {
    timeLeft--;
    document.getElementById("currentPlayer").innerText = document.getElementById("currentPlayer").innerText.split("|")[0].trim() + ` | â³ ${timeLeft} Ø«Ø§Ù†ÙŠØ©`;
    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      alert("â³ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!");
    }
  }, 1000);
}

function clearTimer() {
  if (timerInterval) {
    clearInterval(timerInterval);
    timerInterval = null;
  }
}

window.onload = () => {
  createGrid();
}
</script>
</body>
</html>
